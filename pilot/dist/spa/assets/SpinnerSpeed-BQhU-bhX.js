import{c as A,e as me,j as st,a4 as rt,aK as Ve,i as he,h as V,Q as Y,R as be,A as Te,a as T,ap as ct,p as Oe,a1 as ut,f as dt,v as ft,d as ye,E as ne,a2 as re,F as S,aL as vt,H as O,q as je,aM as gt,w as qe,O as Z,J as w,I as _,W as pt,L as G,M as D,P as X,N as mt,at as ht,Y as bt,z as yt}from"./index-D0PfnkpG.js";import{Q as xt}from"./QBtnGroup-BfIGs6_K.js";import{Q as wt}from"./QInput-BmPm8Cyr.js";import{Q as kt}from"./QMenu-CIx404Kj.js";import{l as fe,f as At,s as se,h as Pe,j as _t}from"./index-DaEgsOZv.js";import{a as Le,w as te,c as ve,e as St,d as Mt,f as Fe,i as $t}from"./angles-DsQ2VyPl.js";import{a as Ct,g as Be,s as qt,b as Pt}from"./scale-mzrGa2OM.js";import{_ as Ie}from"./MoveButton.vue_vue_type_script_setup_true_lang-Ci4vo5VO.js";import{g as Lt}from"./use-key-composition-Di3_QzSz.js";import{u as Ft,a as Bt,b as It}from"./use-model-toggle-R2LY4fXv.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Vt=["top","right","bottom","left"],pe={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:t=>Vt.includes(t)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function ze(t,u){return{formClass:A(()=>`q-fab--form-${t.square===!0?"square":"rounded"}`),stacked:A(()=>t.externalLabel===!1&&["top","bottom"].includes(t.labelPosition)),labelProps:A(()=>{if(t.externalLabel===!0){const o=t.hideLabel===null?u.value===!1:t.hideLabel;return{action:"push",data:{class:[t.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${t.labelPosition}`+(o===!0?" q-fab__label--external-hidden":"")],style:t.labelStyle}}}return{action:["left","top"].includes(t.labelPosition)?"unshift":"push",data:{class:[t.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${t.labelPosition}`+(t.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:t.labelStyle}}})}}const De={start:"self-end",center:"self-center",end:"self-start"},Tt=Object.keys(De),N=me({name:"QFabAction",props:{...pe,icon:{type:String,default:""},anchor:{type:String,validator:t=>Tt.includes(t)},to:[String,Object],replace:Boolean},emits:["click"],setup(t,{slots:u,emit:o}){const f=st(Ve,()=>({showing:{value:!0},onChildClick:rt})),{formClass:M,labelProps:B}=ze(t,f.showing),d=A(()=>{const h=De[t.anchor];return M.value+(h!==void 0?` ${h}`:"")}),p=A(()=>t.disable===!0||f.showing.value!==!0);function $(h){f.onChildClick(h),o("click",h)}function E(){const h=[];return u.icon!==void 0?h.push(u.icon()):t.icon!==""&&h.push(V(be,{name:t.icon})),(t.label!==""||u.label!==void 0)&&h[B.value.action](V("div",B.value.data,u.label!==void 0?u.label():[t.label])),Te(u.default,h)}const L=he();return Object.assign(L.proxy,{click:$}),()=>V(Y,{class:d.value,...t,noWrap:!0,stack:t.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:p.value,onClick:$},E)}});function oe(t,u=new WeakMap){if(Object(t)!==t)return t;if(u.has(t))return u.get(t);const o=t instanceof Date?new Date(t):t instanceof RegExp?new RegExp(t.source,t.flags):t instanceof Set?new Set:t instanceof Map?new Map:typeof t.constructor!="function"?Object.create(null):t.prototype!==void 0&&typeof t.prototype.constructor=="function"?t:new t.constructor;if(typeof t.constructor=="function"&&typeof t.valueOf=="function"){const f=t.valueOf();if(Object(f)!==f){const M=new t.constructor(f);return u.set(t,M),M}}return u.set(t,o),t instanceof Set?t.forEach(f=>{o.add(oe(f,u))}):t instanceof Map&&t.forEach((f,M)=>{o.set(M,oe(f,u))}),Object.assign(o,...Object.keys(t).map(f=>({[f]:oe(t[f],u)})))}const Ot=me({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(t,{slots:u,emit:o}){const{proxy:f}=he(),{$q:M}=f,B=T(null),d=T(""),p=T("");let $=!1;const E=A(()=>ct({initialValue:d.value,validate:t.validate,set:L,cancel:h,updatePosition:W},"value",()=>p.value,q=>{p.value=q}));function L(){t.validate(p.value)!==!1&&(H()===!0&&(o("save",p.value,d.value),o("update:modelValue",p.value)),Q())}function h(){H()===!0&&o("cancel",p.value,d.value),Q()}function W(){Oe(()=>{B.value.updatePosition()})}function H(){return ut(p.value,d.value)===!1}function Q(){$=!0,B.value.hide()}function j(){$=!1,d.value=oe(t.modelValue),p.value=oe(t.modelValue),o("beforeShow")}function U(){o("show")}function a(){$===!1&&H()===!0&&(t.autoSave===!0&&t.validate(p.value)===!0?(o("save",p.value,d.value),o("update:modelValue",p.value)):o("cancel",p.value,d.value)),o("beforeHide")}function C(){o("hide")}function K(){const q=u.default!==void 0?[].concat(u.default(E.value)):[];return t.title&&q.unshift(V("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},t.title)),t.buttons===!0&&q.push(V("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[V(Y,{flat:!0,color:t.color,label:t.labelCancel||M.lang.label.cancel,onClick:h}),V(Y,{flat:!0,color:t.color,label:t.labelSet||M.lang.label.set,onClick:L})])),q}return Object.assign(f,{set:L,cancel:h,show(q){B.value?.show(q)},hide(q){B.value?.hide(q)},updatePosition:W}),()=>{if(t.disable!==!0)return V(kt,{ref:B,class:"q-popup-edit",cover:t.cover,onBeforeShow:j,onShow:U,onBeforeHide:a,onHide:C,onEscapeKey:h},K)}}}),jt=["up","right","down","left"],zt=["left","center","right"],Dt=me({name:"QFab",props:{...pe,...Bt,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{...pe.hideLabel,default:null},direction:{type:String,default:"right",validator:t=>jt.includes(t)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:t=>zt.includes(t)}},emits:Ft,setup(t,{slots:u}){const o=T(null),f=T(t.modelValue===!0),M=Lt(),{proxy:{$q:B}}=he(),{formClass:d,labelProps:p}=ze(t,f),$=A(()=>t.persistent!==!0),{hide:E,toggle:L}=It({showing:f,hideOnRouteChange:$}),h=A(()=>({opened:f.value})),W=A(()=>`q-fab z-fab row inline justify-center q-fab--align-${t.verticalActionsAlign} ${d.value}`+(f.value===!0?" q-fab--opened":" q-fab--closed")),H=A(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${t.direction} q-fab__actions--${f.value===!0?"opened":"closed"}`),Q=A(()=>{const C={id:M.value,role:"menu"};return f.value!==!0&&(C["aria-hidden"]="true"),C}),j=A(()=>`q-fab__icon-holder  q-fab__icon-holder--${f.value===!0?"opened":"closed"}`);function U(C,K){const q=u[C],ae=`q-fab__${C} absolute-full`;return q===void 0?V(be,{class:ae,name:t[K]||B.iconSet.fab[K]}):V("div",{class:ae},q(h.value))}function a(){const C=[];return t.hideIcon!==!0&&C.push(V("div",{class:j.value},[U("icon","icon"),U("active-icon","activeIcon")])),(t.label!==""||u.label!==void 0)&&C[p.value.action](V("div",p.value.data,u.label!==void 0?u.label(h.value):[t.label])),Te(u.tooltip,C)}return ft(Ve,{showing:f,onChildClick(C){E(C),C?.qAvoidFocus!==!0&&o.value?.$el.focus()}}),()=>V("div",{class:W.value},[V(Y,{ref:o,class:d.value,...t,noWrap:!0,stack:t.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":f.value===!0?"true":"false","aria-haspopup":"true","aria-controls":M.value,onClick:L},a),V("div",{class:H.value,...Q.value},dt(u.default))])}}),Et=ye({__name:"MoveFab",props:{icon:{type:String,default:"mdi-plus-circle"}},setup(t){const u=T(!1);return(o,f)=>(O(),ne(Dt,{class:"move-fab",push:"",padding:"xs",direction:"up",modelValue:u.value,"onUpdate:modelValue":f[0]||(f[0]=M=>u.value=M),icon:t.icon,"text-color":u.value?"white":"dark",color:(u.value,"positive"),style:re(u.value?"opacity: 1":"opacity: 0.4")},{default:S(()=>[vt(o.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue","icon","text-color","color","style"]))}}),ge=xe(Et,[["__scopeId","data-v-e7438b71"]]),Ht={class:"overlay-container relative-position"},Qt={key:0},Rt={class:"column"},Nt={class:"column","text-primary":""},Wt=["width","height"],Ut=["width","height"],Kt={class:"column items-center"},Yt={class:"row text-positive text-h6 items-center q-gutter-xs no-wrap text-weight-light"},Gt={key:0},Xt={class:"column items-left sp-readout-value"},Zt={class:"q-pt-md"},Jt={class:"text-h4 text-grey-6 text-center text-no-wrap"},en={class:"row items-center q-gutter-xs no-wrap"},tn={class:"text-h4"},nn={class:"text-h2 text-weight-bold"},ln={class:"column"},on={class:"text-h5 text-grey-4"},an={class:"text-subtitle2 text-grey-5"},sn=ye({__name:"ScaleDisplay",props:{pv:{},sp:{},lst:{},label:{},domain:{}},emits:["clickScale","clickFabAngle","clickMove"],setup(t,{emit:u}){const o=t,f=T(null),M=T(null),B=T(null),d=T(200),p=T(!1),$=T(""),E=T(),L=A(()=>o.domain==="linear_360"),h=A(()=>`${o.domain}-${d.value}-${o.pv}-${o.sp}-${o.lst}`),W=A(()=>a.value.dAngleFn(o.pv??0)),H=A(()=>a.value.dAngleFn(o.sp??0)),Q=A(()=>Le(W.value,1,a.value.unit)),j=A(()=>Le(H.value,1,a.value.unit)),U=A(()=>j.value?(j.value.sign??"")+j.value.degreestr+j.value.minutestr+j.value.secondstr:""),a=A(()=>ae[o.domain]),C=A(()=>a.value.unit),K=A(()=>["circular_360","semihi_360","semilo_360","semihi_180","semihi_24","semilo_180","circular_180","az_360","alt_90","roll_180","ra_24","dec_180","pa_360"].includes(o.domain)),q=u,ae={linear_360:{width:400,height:400,cx:200,cy:200,radius:150,sAngleLow:-10,sAngleHigh:190,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]},circular_360:{width:400,height:400,cx:200,cy:200,radius:150,sAngleLow:10,sAngleHigh:340,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]},az_360:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]},alt_90:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:ve,unit:"deg",minScale:2/60,maxScale:200,warnings:[[82,200],[-100,-8]]},roll_180:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:ve,unit:"deg",minScale:2/60,maxScale:200,warnings:[[82,200],[-82,-200]]},ra_24:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:St,unit:"hr",minScale:1/60,maxScale:12,warnings:[]},dec_180:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:ve,unit:"deg",minScale:2/60,maxScale:200,warnings:[[90,200],[-90,-200]]},pa_360:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]}},Ee={lg:"M-8,0 L18,0",md:"M-8,0 L14,0",sm:"M-8,0 L11,0"},He={lg:1.2,md:1.165,sm:1.13},Qe={lg:1,md:1,sm:.5},we=gt(it,20);je(we),qe(h,we),qe(a,()=>{d.value=Math.max(a.value.minScale,Math.min(a.value.maxScale,d.value))});function R(l){q("clickFabAngle",l)}function Re(l,e){l.preventDefault(),l.stopPropagation(),e=a.value.dAngleFn(e),q("clickScale",{label:o.label,angle:e,radialOffset:1})}async function Ne(){$.value=U.value,await Oe();const l=E.value?.$el?.querySelector("input");l&&l.select()}function ce(l,e){if(e.cancel(),l){const n=Mt($.value);q("clickScale",{label:o.label,angle:n,radialOffset:1})}}function ke(l){const e=B.value;if(!e)return;let n,i;if(l instanceof TouchEvent){const s=l.touches[0];if(!s)return;n=s.clientX,i=s.clientY}else n=l.clientX,i=l.clientY;if(n===void 0||i===void 0)return;const r=e.createSVGPoint();r.x=n,r.y=i;const c=r.matrixTransform(e.getScreenCTM()?.inverse()),v=Math.atan2(c.y-a.value.cy,c.x-a.value.cx),g=te(v*(180/Math.PI));if(g<a.value.sAngleLow||g>a.value.sAngleHigh)return;const m=(o.pv??0)-d.value/2,k=(o.pv??0)+d.value/2,z=fe().domain([a.value.sAngleLow,a.value.sAngleHigh]).range([m,k]),F=a.value.dAngleFn(z(g)),b=c.x-a.value.cx,x=c.y-a.value.cy,P=Math.sqrt(b*b+x*x)/a.value.radius;P<.8||P>1.25||p.value&&q("clickScale",{label:o.label,angle:F,radialOffset:P})}function We(l){l.preventDefault();const e=1.2,n=50,i=Math.sign(l.deltaY),r=Math.abs(l.deltaY),c=Math.pow(e,r/n);let v=d.value;v*=Math.pow(c,i),v=Math.max(a.value.minScale,Math.min(a.value.maxScale,v)),d.value=v}function Ue(){const l=Be(d.value);l.nextDown&&l.nextDown>=a.value.minScale&&(d.value=l.nextDown)}function Ke(){const l=Be(d.value);l.nextUp&&l.nextUp<=a.value.maxScale&&(d.value=l.nextUp)}function Ye(){d.value=a.value.maxScale}function Ge(l){q("clickMove",{label:o.label,rateScale:l.isPressed?d.value:0})}function Xe(l){q("clickMove",{label:o.label,rateScale:l.isPressed?-d.value:0})}function Ze(l,e,n,i,r,c){const v=n.toFixed(6),g=n;let m=r(i(n),C.value);["md","sm"].includes(e)&&/^[+-]?\d+[°ʰ]$/.test(m)&&(e="lg"),e==="sm"&&/^[+-]?\d+[′ᵐ]$/.test(m)&&(e="md"),e==="sm"&&/^[+-]?60[″ˢ]$/.test(m)&&(e="md",m=Pt(n,C.value)),c==1&&n%5!=0&&a.value.unit=="deg"&&(e="md"),c==2&&n%10!=0&&a.value.unit=="deg"&&(e="md"),c==5&&n%30!=0&&(e="md"),c==10&&n%30!=0&&(e="md"),c==15&&n%90!=0&&(e="md"),c==30&&n%90!=0&&(e="md");const k={lg:3,md:2,sm:1},z=l.findIndex(x=>x.angle===g),b=l[z]?.level?.slice(6);if(b){if(k[e]<=k[b])return;l.splice(z,1)}l.push({key:`${o.label}-tkLabel-${e}-${v}`,angle:g,label:m,level:`tkLabel tk-${e} no-edit-cursor`,opacity:Qe[e],offset:He[e]}),l.push({key:`tkDash-${e}-${v}`,angle:g,path:Ee[e],level:`tkDash tk-${e}`})}function Je(l,e,n,i=6,r=30){const c=[],{stepSize:v,dFormatFn:g,level:m}=qt(e,i,r),k=Math.ceil(l/v)*v,z=l+e,F=Math.floor((z-k)/v);for(let b=0;b<=F&&b<r;b++){const x=+(k+b*v).toFixed(6);Ze(c,m,x,n,g,v)}return{stepSize:v,ticks:c}}function et(l,e,n,i){const r=n/i,c=Math.ceil(l/r)*r,v=c+e-l;return[{key:`tkArcS-${n}-${i}`,level:"tk-solid",beginAngle:l,endAngle:e,offset:1,opacity:.2,zorder:"low"},{key:`tkArcD-${n}-${i}`,level:"tk-dashed",beginAngle:c,endAngle:v,stepSize:n,stepDiv:i,offset:1,zorder:"low"}]}function tt(l,e,n){return a.value.warnings.map(r=>({key:`tkWrn-${r[0]}-${r[1]}-${n}`,beginAngle:r[0],endAngle:r[1],offset:1,opacity:.7,zorder:"low"}))}function Ae(l,e){return(n,i)=>{const r=l(i??n??0),c=e(n??0),v=Fe(r,c);return g=>r+v*g}}function ue(l,e,n=1,i){const r=e*Math.cos(l*Math.PI/180)*n,c=e*Math.sin(l*Math.PI/180)*n;return`translate(${r}, ${c}) rotate(${i+l})`}function _e(l,e,n,i){if(n&&i){const r=e(0+n)-e(0),c=l*(r/i)*(Math.PI/180);return`${c*.1} ${c*.9}`}else return"none"}function Se(l,e,n){return typeof l.angle!="number"?0:l.angle>=e&&l.angle<=n?l.opacity??1:0}function ie(l,e){const n=se(l);e.zorder==="high"?n.raise():e.zorder==="low"&&n.lower()}function nt(l,e){const n=se(l);e.path?n.attr("d",e.path):e.label&&n.text(e.label).attr("text-anchor","middle").attr("dominant-baseline","middle")}function Me(l,e,n){const i=l*Math.PI/180,r=e*Math.PI/180,c=n*Math.cos(i),v=n*Math.sin(i),g=n*Math.cos(r),m=n*Math.sin(r),k=te(e-l)>180?1:0;return`M${c},${v} A${n},${n} 0 ${k} 1 ${g},${m}`}function lt(l){return l.map(e=>{const{beginAngle:n,endAngle:i}=e;return typeof n=="number"&&typeof i=="number"&&i<n?{...e,beginAngle:i,endAngle:n}:e})}function J(l="mark",e,n,i,r,c,v){const g=v,[m,k]=r.domain(),[z,F]=r.range(),b=(z+F)/2,x=n.filter(P=>$t(P.angle??0,m,k)),y=Ae(i,r);e.selectAll(`.${l}`).data(x,P=>`${P.key}`).join(P=>P.append(s=>document.createElementNS("http://www.w3.org/2000/svg",s.path?"path":"text")).attr("class",s=>`${l} ${s.level}`.trim()).each(function(s){ie(this,s)}).each(function(s){nt(this,s)}).attr("opacity",0).on("mousedown",function(s,I){I.label&&(s.preventDefault(),s.stopPropagation())}).on("click",function(s,I){I.label&&typeof I.angle=="number"&&Re(s,I.angle)}).transition(g).attr("opacity",s=>Se(s,m,k)).attrTween("transform",s=>I=>{const ee=y(s.angle,s.oldAngle)(I),le=s.label?Math.sin(b*Math.PI/180)>0?-90:90:0;return ue(ee,c,s.offset??1,le)}),P=>P.transition(g).attr("opacity",s=>Se(s,m,k)).each(function(s){ie(this,s)}).attrTween("transform",s=>I=>{const ee=y(s.angle,s.oldAngle)(I),le=s.label?Math.sin(b*Math.PI/180)>0?-90:90:0;return ue(ee,c,s.offset??1,le)}),P=>P.transition(g).attr("opacity",0).attrTween("transform",s=>I=>{const ee=y(s.angle,s.oldAngle)(I),le=s.label?Math.sin(ee*Math.PI/180)>0?-90:90:0;return ue(ee,c,s.offset??1,le)}).remove())}function de(l="arc",e,n,i,r,c,v){const g=v,[m,k]=r.domain(),F=lt(n).filter(x=>typeof x.beginAngle!="number"||typeof x.endAngle!="number"?!1:x.beginAngle>=m&&x.endAngle<=k?!0:x.beginAngle>k||x.endAngle<m?!1:(x.beginAngle<m&&(x.beginAngle=m),x.endAngle>k&&(x.endAngle=k),!0)),b=Ae(i,r);e.selectAll(`.${l}`).data(F,x=>`${x.key}`).join(x=>x.append("path").attr("class",y=>`${l} ${y.level}`.trim()).each(function(y){ie(this,y)}).style("stroke-dasharray",y=>_e(c,r,y.stepSize,y.stepDiv)).attr("opacity",0).transition(g).attr("opacity",y=>y.opacity??1).attrTween("d",y=>P=>{const s=b(y.beginAngle??0)(P),I=b(y.endAngle??0)(P);return Me(s,I,c*(y.offset??1))}),x=>x.transition(g).each(function(y){ie(this,y)}).attr("opacity",y=>y.opacity??1).style("stroke-dasharray",y=>_e(c,r,y.stepSize,y.stepDiv)).attrTween("d",y=>P=>{const s=b(y.beginAngle??0)(P),I=b(y.endAngle??0)(P);return Me(s,I,c*(y.offset??1))}),x=>x.transition(g).attr("opacity",0).remove())}function ot(){if(!f.value)return;const l=fe().domain([o.pv??0-d.value/2,o.pv??0+d.value/2]).range([0,a.value.width-40]),e=At(l).ticks(10);se(f.value).transition().duration(200).ease(Pe).call(e)}let $e,Ce;function at(){if(!M.value)return;const l=(o.pv??0)-d.value/2,e=(o.pv??0)+d.value/2,{stepSize:n,ticks:i}=Je(l,d.value,a.value.dAngleFn),r=et(l,e,n,5),c=tt(l,e,n),v=a.value.radius,g=fe().domain([l,e]).range([a.value.sAngleLow,a.value.sAngleHigh]),m=$e??g;$e=g;const k=(o.pv??0)+Fe(o.pv??0,o.sp??0),z=Ce??k;Ce=k;const F=se(M.value).attr("transform",`translate(${a.value.cx},${a.value.cy})`),b=_t().duration(200).ease(Pe);de("scaleArcs",F,r,m,g,v,b),de("warningArcs",F,c,m,g,v,b),de("tkArcPVtoSP",F,[{beginAngle:o.pv,endAngle:k,offset:1,opacity:.9,zorder:"low"}],m,g,v,b),J("tkMarks",F,i,m,g,v,b),J("pvMark",F,[{key:"pvMark",angle:o.pv,path:"M-8,0 L-30,15 L-30,-15 Z",offset:1,zorder:"high"}],g,g,v,b),J("spMark",F,[{key:"spMark",angle:k,oldAngle:z,path:"M-8,0 L-30,15 L-30,-15 Z",zorder:"high"}],m,g,v,b),J("spLine",F,[{key:"spLine",angle:k,oldAngle:z,path:"M-60,0 L-15,0",zorder:"high"}],m,g,v,b),o.domain=="ra_24"&&o.lst?J("lstMark",F,[{key:"1",angle:o.lst,path:"M-8,0 L18,0",offset:1,zorder:"high",level:"dash"},{key:"2",angle:o.lst,label:"LST",offset:1.2,zorder:"high",level:"label"}],m,g,v,b):J("lstMark",F,[],m,g,v,b)}function it(){L.value?ot():K.value&&at()}return(l,e)=>(O(),Z("div",Ht,[w("div",{class:"interaction-area",style:re(`width:${a.value.width}px; height: ${a.value.height}px`),onMouseenter:e[13]||(e[13]=n=>p.value=!0),onMouseleave:e[14]||(e[14]=n=>p.value=!1),onTouchstartPassive:e[15]||(e[15]=n=>{p.value=!0,console.log(`touch ${o.label}`)})},[w("div",{class:"outer-content",style:re(`width:${a.value.width}px; height: ${a.value.height}px`)},[_(pt,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:S(()=>[p.value?(O(),Z("div",Qt,[e[16]||(e[16]=w("div",{class:"row absolute-top-left q-pl-xl q-pb-sm"},null,-1)),_(xt,{rounded:"",class:"row absolute-top-right q-pr-lg"},{default:S(()=>[w("div",Rt,[_(Y,{onClick:Ue,dense:"",flat:"",color:"secondary",icon:"mdi-magnify-plus-outline"})]),w("div",Nt,[_(Y,{onClick:Ye,dense:"",flat:"",color:"secondary"},{default:S(()=>[D(X(mt(Ct)(d.value,C.value)),1)]),_:1}),_(Y,{onClick:Ke,dense:"",flat:"",color:"secondary",icon:"mdi-magnify-minus-outline"})])]),_:1}),e[17]||(e[17]=w("div",{class:"row absolute-bottom-left q-pa-sm"},null,-1)),e[18]||(e[18]=w("div",{class:"row absolute-bottom-right q-pa-sm"},null,-1))])):G("",!0)]),_:1})],4),(O(),Z("svg",{class:"background-svg",onMousedown:ke,onTouchstartPassive:ke,onWheel:We,ref_key:"svgElement",ref:B,width:a.value.width,height:a.value.height},[w("rect",{width:a.value.width,height:a.value.height,fill:"transparent"},null,8,Ut),L.value?(O(),Z("g",{key:0,ref_key:"linearGroup",ref:f},null,512)):K.value?(O(),Z("g",{key:1,ref_key:"circularGroup",ref:M},null,512)):G("",!0)],40,Wt)),w("div",{class:"center-content no-edit-cursor",style:re(`left:${100*a.value.cx/a.value.width}%; top: ${100*a.value.cy/a.value.height}%`)},[w("div",Kt,[w("div",{class:ht({row:!0,"order-last":a.value.cy>a.value.height/2})},[w("div",Yt,[p.value?(O(),Z("div",Gt,[o.label=="Roll"?(O(),ne(ge,{key:0,icon:"mdi-format-align-middle"},{default:S(()=>[_(N,{color:"positive",onClick:e[0]||(e[0]=n=>R({roll:0}))},{default:S(()=>e[19]||(e[19]=[D("0°",-1)])),_:1,__:[19]}),_(N,{color:"positive",onClick:e[1]||(e[1]=n=>R({roll:-45}))},{default:S(()=>e[20]||(e[20]=[D("-45°",-1)])),_:1,__:[20]}),_(N,{color:"positive",onClick:e[2]||(e[2]=n=>R({roll:45}))},{default:S(()=>e[21]||(e[21]=[D("+45°",-1)])),_:1,__:[21]})]),_:1})):G("",!0),o.label=="Altitude"?(O(),ne(ge,{key:1,icon:"mdi-angle-acute"},{default:S(()=>[_(N,{color:"positive",onClick:e[3]||(e[3]=n=>R({alt:0}))},{default:S(()=>e[22]||(e[22]=[D("0°",-1)])),_:1,__:[22]}),_(N,{color:"positive",onClick:e[4]||(e[4]=n=>R({alt:30}))},{default:S(()=>e[23]||(e[23]=[D("30°",-1)])),_:1,__:[23]}),_(N,{color:"positive",onClick:e[5]||(e[5]=n=>R({alt:45}))},{default:S(()=>e[24]||(e[24]=[D("45°",-1)])),_:1,__:[24]}),_(N,{color:"positive",onClick:e[6]||(e[6]=n=>R({alt:60}))},{default:S(()=>e[25]||(e[25]=[D("60°",-1)])),_:1,__:[25]})]),_:1})):G("",!0),o.label=="Azimuth"?(O(),ne(ge,{key:2,icon:"mdi-compass-rose"},{default:S(()=>[_(N,{color:"positive",onClick:e[7]||(e[7]=n=>R({az:180}))},{default:S(()=>e[26]||(e[26]=[D("S",-1)])),_:1,__:[26]}),_(N,{color:"positive",onClick:e[8]||(e[8]=n=>R({az:90}))},{default:S(()=>e[27]||(e[27]=[D("E",-1)])),_:1,__:[27]}),_(N,{color:"positive",onClick:e[9]||(e[9]=n=>R({az:270}))},{default:S(()=>e[28]||(e[28]=[D("W",-1)])),_:1,__:[28]}),_(N,{color:"positive",onClick:e[10]||(e[10]=n=>R({az:0}))},{default:S(()=>e[29]||(e[29]=[D("N",-1)])),_:1,__:[29]})]),_:1})):G("",!0)])):G("",!0),p.value?(O(),ne(Ie,{key:1,activeColor:"positive",icon:"mdi-minus-circle",onPush:Xe})):G("",!0),w("div",Xt,[e[30]||(e[30]=w("div",{class:"absolute text-positive text-caption"},"Setpoint",-1)),w("div",Zt,X(U.value),1),_(Ot,{modelValue:$.value,"onUpdate:modelValue":e[12]||(e[12]=n=>$.value=n),color:"positive",onBeforeShow:Ne},{default:S(n=>[_(wt,{label:o.label+" SP",color:"positive",ref_key:"spxInputRef",ref:E,modelValue:$.value,"onUpdate:modelValue":e[11]||(e[11]=i=>$.value=i),autofocus:"",onKeyup:bt(i=>ce(!0,n),["enter"])},{prepend:S(()=>[_(be,{name:"mdi-arrow-up-bold",color:"positive"})]),after:S(()=>[_(Y,{flat:"",dense:"",round:"",color:"negative",icon:"cancel",onClick:i=>ce(!1,n)},null,8,["onClick"]),_(Y,{flat:"",dense:"",round:"",color:"positive",icon:"check_circle",onClick:i=>ce(!0,n)},null,8,["onClick"])]),_:2},1032,["label","modelValue","onKeyup"])]),_:1},8,["modelValue"])]),p.value?(O(),ne(Ie,{key:2,activeColor:"positive",icon:"mdi-plus-circle",onPush:Ge})):G("",!0)])],2),w("div",Jt,X(o.label),1),w("div",en,[w("div",tn,X(Q.value.sign),1),w("div",nn,X(Q.value.degreestr),1),w("div",ln,[w("div",on,X(Q.value.minutestr),1),w("div",an,X(Q.value.secondstr),1)])])])],4)],36)]))}}),kn=xe(sn,[["__scopeId","data-v-26d6541c"]]),rn={class:"row items-center no-wrap q-pb-md"},cn={x:"50%",y:"50%","text-anchor":"middle","dominant-baseline":"middle",fill:"currentColor","font-size":"35px"},un=ye({__name:"SpinnerSpeed",props:{speed:{},label:{}},setup(t){const u=t,o=T(null),f=T(null),M=A(()=>{const L=u.speed??0;return B(L)});function B(L){const h=Math.abs(L),W=.002,H=9,Q=.2,j=5;if(h<W)return 0;const U=Math.log10(h),a=Math.log10(W),C=Math.log10(H),K=(U-a)/(C-a);return 360/(j-K*(j-Q))}let d=0,p=performance.now(),$=null;function E(){const L=performance.now(),h=(L-p)/1e3;p=L;const H=((u.speed??0)<=0?1:-1)*M.value;d=(d+h*H)%360,o.value&&o.value.setAttribute("transform",`rotate(${d.toFixed(2)} 50 50)`),$=requestAnimationFrame(E)}return je(()=>{p=performance.now(),$=requestAnimationFrame(E)}),yt(()=>{$!==null&&cancelAnimationFrame($)}),(L,h)=>(O(),Z("div",rn,[(O(),Z("svg",{ref_key:"svgRef",ref:f,class:"q-spinner text-primary",width:"50px",height:"50px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},[h[0]||(h[0]=w("circle",{cx:"50",cy:"50",r:"44",fill:"none","stroke-width":"4","stroke-opacity":".5",stroke:"currentColor"},null,-1)),w("text",cn,X(u.label),1),w("circle",{ref_key:"orbitingCircle",ref:o,cx:"8",cy:"54",r:"6",fill:"currentColor","stroke-width":"3",stroke:"currentColor"},null,512)],512))]))}}),An=xe(un,[["__scopeId","data-v-ee6107d9"]]);export{kn as S,An as a};
