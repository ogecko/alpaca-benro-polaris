import{c as _,e as me,j as st,a5 as rt,aM as Ie,i as he,h as I,Q as Z,R as be,A as Ve,a as V,ar as ct,p as Oe,a2 as ut,f as dt,v as ft,d as ye,E as ne,a3 as re,F as $,aN as vt,H as T,q as Te,am as gt,w as Ce,O as X,J as w,I as M,X as pt,K as Y,N as E,P as G,M as mt,av as ht,Z as bt,z as yt}from"./index-CZ03DXjz.js";import{Q as xt}from"./QBtnGroup-CXtSZjc-.js";import{Q as wt}from"./QInput-2ibCh1Ax.js";import{Q as kt}from"./QMenu-DhMn_ZMz.js";import{l as fe,f as _t,s as se,h as Pe,j as At}from"./index-DaEgsOZv.js";import{b as qe,w as te,f as ve,h as St,d as Mt,e as Le,i as $t}from"./angles-CM-dTGcw.js";import{a as Ct,g as Fe,s as Pt,b as qt,f as Lt}from"./scale-BUHoRS_z.js";import{_ as Be}from"./MoveButton.vue_vue_type_script_setup_true_lang-DfOSWfgI.js";import{g as Ft}from"./use-key-composition-CW69J13u.js";import{u as Bt,a as It,b as Vt}from"./use-model-toggle-bobRI_2Q.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ot=["top","right","bottom","left"],pe={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:t=>Ot.includes(t)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function ze(t,s){return{formClass:_(()=>`q-fab--form-${t.square===!0?"square":"rounded"}`),stacked:_(()=>t.externalLabel===!1&&["top","bottom"].includes(t.labelPosition)),labelProps:_(()=>{if(t.externalLabel===!0){const o=t.hideLabel===null?s.value===!1:t.hideLabel;return{action:"push",data:{class:[t.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${t.labelPosition}`+(o===!0?" q-fab__label--external-hidden":"")],style:t.labelStyle}}}return{action:["left","top"].includes(t.labelPosition)?"unshift":"push",data:{class:[t.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${t.labelPosition}`+(t.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:t.labelStyle}}})}}const je={start:"self-end",center:"self-center",end:"self-start"},Tt=Object.keys(je),U=me({name:"QFabAction",props:{...pe,icon:{type:String,default:""},anchor:{type:String,validator:t=>Tt.includes(t)},to:[String,Object],replace:Boolean},emits:["click"],setup(t,{slots:s,emit:o}){const d=st(Ie,()=>({showing:{value:!0},onChildClick:rt})),{formClass:C,labelProps:L}=ze(t,d.showing),v=_(()=>{const h=je[t.anchor];return C.value+(h!==void 0?` ${h}`:"")}),p=_(()=>t.disable===!0||d.showing.value!==!0);function P(h){d.onChildClick(h),o("click",h)}function z(){const h=[];return s.icon!==void 0?h.push(s.icon()):t.icon!==""&&h.push(I(be,{name:t.icon})),(t.label!==""||s.label!==void 0)&&h[L.value.action](I("div",L.value.data,s.label!==void 0?s.label():[t.label])),Ve(s.default,h)}const j=he();return Object.assign(j.proxy,{click:P}),()=>I(Z,{class:v.value,...t,noWrap:!0,stack:t.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:p.value,onClick:P},z)}});function ae(t,s=new WeakMap){if(Object(t)!==t)return t;if(s.has(t))return s.get(t);const o=t instanceof Date?new Date(t):t instanceof RegExp?new RegExp(t.source,t.flags):t instanceof Set?new Set:t instanceof Map?new Map:typeof t.constructor!="function"?Object.create(null):t.prototype!==void 0&&typeof t.prototype.constructor=="function"?t:new t.constructor;if(typeof t.constructor=="function"&&typeof t.valueOf=="function"){const d=t.valueOf();if(Object(d)!==d){const C=new t.constructor(d);return s.set(t,C),C}}return s.set(t,o),t instanceof Set?t.forEach(d=>{o.add(ae(d,s))}):t instanceof Map&&t.forEach((d,C)=>{o.set(C,ae(d,s))}),Object.assign(o,...Object.keys(t).map(d=>({[d]:ae(t[d],s)})))}const zt=me({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(t,{slots:s,emit:o}){const{proxy:d}=he(),{$q:C}=d,L=V(null),v=V(""),p=V("");let P=!1;const z=_(()=>ct({initialValue:v.value,validate:t.validate,set:j,cancel:h,updatePosition:O},"value",()=>p.value,S=>{p.value=S}));function j(){t.validate(p.value)!==!1&&(Q()===!0&&(o("save",p.value,v.value),o("update:modelValue",p.value)),D())}function h(){Q()===!0&&o("cancel",p.value,v.value),D()}function O(){Oe(()=>{L.value.updatePosition()})}function Q(){return ut(p.value,v.value)===!1}function D(){P=!0,L.value.hide()}function R(){P=!1,v.value=ae(t.modelValue),p.value=ae(t.modelValue),o("beforeShow")}function W(){o("show")}function a(){P===!1&&Q()===!0&&(t.autoSave===!0&&t.validate(p.value)===!0?(o("save",p.value,v.value),o("update:modelValue",p.value)):o("cancel",p.value,v.value)),o("beforeHide")}function A(){o("hide")}function K(){const S=s.default!==void 0?[].concat(s.default(z.value)):[];return t.title&&S.unshift(I("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},t.title)),t.buttons===!0&&S.push(I("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[I(Z,{flat:!0,color:t.color,label:t.labelCancel||C.lang.label.cancel,onClick:h}),I(Z,{flat:!0,color:t.color,label:t.labelSet||C.lang.label.set,onClick:j})])),S}return Object.assign(d,{set:j,cancel:h,show(S){L.value?.show(S)},hide(S){L.value?.hide(S)},updatePosition:O}),()=>{if(t.disable!==!0)return I(kt,{ref:L,class:"q-popup-edit",cover:t.cover,onBeforeShow:R,onShow:W,onBeforeHide:a,onHide:A,onEscapeKey:h},K)}}}),jt=["up","right","down","left"],Dt=["left","center","right"],Ht=me({name:"QFab",props:{...pe,...It,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{...pe.hideLabel,default:null},direction:{type:String,default:"right",validator:t=>jt.includes(t)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:t=>Dt.includes(t)}},emits:Bt,setup(t,{slots:s}){const o=V(null),d=V(t.modelValue===!0),C=Ft(),{proxy:{$q:L}}=he(),{formClass:v,labelProps:p}=ze(t,d),P=_(()=>t.persistent!==!0),{hide:z,toggle:j}=Vt({showing:d,hideOnRouteChange:P}),h=_(()=>({opened:d.value})),O=_(()=>`q-fab z-fab row inline justify-center q-fab--align-${t.verticalActionsAlign} ${v.value}`+(d.value===!0?" q-fab--opened":" q-fab--closed")),Q=_(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${t.direction} q-fab__actions--${d.value===!0?"opened":"closed"}`),D=_(()=>{const A={id:C.value,role:"menu"};return d.value!==!0&&(A["aria-hidden"]="true"),A}),R=_(()=>`q-fab__icon-holder  q-fab__icon-holder--${d.value===!0?"opened":"closed"}`);function W(A,K){const S=s[A],le=`q-fab__${A} absolute-full`;return S===void 0?I(be,{class:le,name:t[K]||L.iconSet.fab[K]}):I("div",{class:le},S(h.value))}function a(){const A=[];return t.hideIcon!==!0&&A.push(I("div",{class:R.value},[W("icon","icon"),W("active-icon","activeIcon")])),(t.label!==""||s.label!==void 0)&&A[p.value.action](I("div",p.value.data,s.label!==void 0?s.label(h.value):[t.label])),Ve(s.tooltip,A)}return ft(Ie,{showing:d,onChildClick(A){z(A),A?.qAvoidFocus!==!0&&o.value?.$el.focus()}}),()=>I("div",{class:O.value},[I(Z,{ref:o,class:v.value,...t,noWrap:!0,stack:t.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":d.value===!0?"true":"false","aria-haspopup":"true","aria-controls":C.value,onClick:j},a),I("div",{class:Q.value,...D.value},dt(s.default))])}}),Et=ye({__name:"MoveFab",props:{icon:{type:String,default:"mdi-plus-circle"}},setup(t){const s=V(!1);return(o,d)=>(T(),ne(Ht,{class:"move-fab",push:"",padding:"xs",direction:"up",modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=C=>s.value=C),icon:t.icon,"text-color":s.value?"white":"dark",color:(s.value,"positive"),style:re(s.value?"opacity: 1":"opacity: 0.4")},{default:$(()=>[vt(o.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue","icon","text-color","color","style"]))}}),ge=xe(Et,[["__scopeId","data-v-e7438b71"]]),Qt={class:"overlay-container relative-position"},Rt={key:0},Nt={class:"column"},Ut={class:"column","text-primary":""},Wt=["width","height"],Kt=["width","height"],Gt={class:"column items-center"},Zt={class:"row text-positive text-h6 items-center q-gutter-xs no-wrap text-weight-light"},Yt={key:0},Xt={class:"column items-left sp-readout-value"},Jt={class:"q-pt-md"},en={class:"text-h4 text-grey-6 text-center text-no-wrap"},tn={class:"row items-center q-gutter-xs no-wrap"},nn={class:"text-h4"},ln={class:"text-h2 text-weight-bold"},on={class:"column"},an={class:"text-h5 text-grey-4"},sn={class:"text-subtitle2 text-grey-5"},rn=ye({__name:"ScaleDisplay",props:{pv:{},sp:{},lst:{},label:{},domain:{}},emits:["clickScale","clickFabAngle","clickMove"],setup(t,{emit:s}){const o=t,d=V(null),C=V(null),L=V(null),v=V(200),p=V(!1),P=V(""),z=V(),j=_(()=>o.domain==="linear_360"),h=_(()=>`${o.domain}-${v.value}-${o.pv}-${o.sp}-${o.lst}`),O=_(()=>a.value.dAngleFn(o.pv??0)),Q=_(()=>a.value.dAngleFn(o.sp??0)),D=_(()=>qe(O.value,1,a.value.unit)),R=_(()=>qe(Q.value,1,a.value.unit)),W=_(()=>R.value?(R.value.sign??"")+R.value.degreestr+R.value.minutestr+R.value.secondstr:""),a=_(()=>le[o.domain]),A=_(()=>a.value.unit),K=_(()=>["circular_360","semihi_360","semilo_360","semihi_180","semihi_24","semilo_180","circular_180","az_360","alt_90","roll_180","ra_24","dec_180","pa_360"].includes(o.domain)),S=s,le={linear_360:{width:400,height:400,cx:200,cy:200,radius:150,sAngleLow:-10,sAngleHigh:190,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]},circular_360:{width:400,height:400,cx:200,cy:200,radius:150,sAngleLow:10,sAngleHigh:340,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]},az_360:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]},alt_90:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:ve,unit:"deg",minScale:2/60,maxScale:200,warnings:[[82,200],[-100,-8]]},roll_180:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:ve,unit:"deg",minScale:2/60,maxScale:200,warnings:[[82,200],[-82,-200]]},ra_24:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:St,unit:"hr",minScale:1/60,maxScale:12,warnings:[]},dec_180:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:ve,unit:"deg",minScale:2/60,maxScale:200,warnings:[[90,200],[-90,-200]]},pa_360:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]}},De={lg:"M-8,0 L18,0",md:"M-8,0 L14,0",sm:"M-8,0 L11,0"},He={lg:1.2,md:1.165,sm:1.13},Ee={lg:1,md:1,sm:.5},we=gt(it,20);Te(we),Ce(h,we),Ce(a,()=>{v.value=Math.max(a.value.minScale,Math.min(a.value.maxScale,v.value))});function N(l){S("clickFabAngle",l)}function Qe(l,e){l.preventDefault(),l.stopPropagation(),e=a.value.dAngleFn(e),S("clickScale",{label:o.label,angle:e,radialOffset:1})}async function Re(){P.value=W.value,await Oe();const l=z.value?.$el?.querySelector("input");l&&l.select()}function ce(l,e){if(e.cancel(),l){const n=Mt(P.value);S("clickScale",{label:o.label,angle:n,radialOffset:1})}}function Ne(l){const e=L.value;if(!e)return;const n=e.createSVGPoint();n.x=l.clientX,n.y=l.clientY;const i=n.matrixTransform(e.getScreenCTM()?.inverse()),c=Math.atan2(i.y-a.value.cy,i.x-a.value.cx),r=te(c*(180/Math.PI));if(r<a.value.sAngleLow||r>a.value.sAngleHigh)return;const f=(o.pv??0)-v.value/2,g=(o.pv??0)+v.value/2,m=fe().domain([a.value.sAngleLow,a.value.sAngleHigh]).range([f,g]),k=a.value.dAngleFn(m(r)),H=i.x-a.value.cx,q=i.y-a.value.cy,b=Math.sqrt(H*H+q*q)/a.value.radius;b<.8||b>1.25||p.value&&S("clickScale",{label:o.label,angle:k,radialOffset:b})}function Ue(l){l.preventDefault();const e=1.2,n=50,i=Math.sign(l.deltaY),c=Math.abs(l.deltaY),r=Math.pow(e,c/n);let f=v.value;f*=Math.pow(r,i),f=Math.max(a.value.minScale,Math.min(a.value.maxScale,f)),v.value=f}function We(){const l=Fe(v.value);l.nextDown&&l.nextDown>=a.value.minScale&&(v.value=l.nextDown)}function Ke(){const l=Fe(v.value);l.nextUp&&l.nextUp<=a.value.maxScale&&(v.value=l.nextUp)}function Ge(){v.value=a.value.maxScale}function Ze(l){S("clickMove",{label:o.label,rateScale:l.isPressed?v.value:0})}function Ye(l){S("clickMove",{label:o.label,rateScale:l.isPressed?-v.value:0})}function Xe(l,e,n,i,c,r){const f=n.toFixed(6),g=n;let m=c(i(n),A.value);["md","sm"].includes(e)&&/^[+-]?\d+[°ʰ]$/.test(m)&&(e="lg"),e==="sm"&&/^[+-]?\d+[′ᵐ]$/.test(m)&&(e="md"),e==="sm"&&/^[+-]?60[″ˢ]$/.test(m)&&(e="md",m=qt(n,A.value)),r==1&&n%5!=0&&a.value.unit=="deg"&&(e="md"),r==2&&n%10!=0&&a.value.unit=="deg"&&(e="md"),r==5&&n%30!=0&&(e="md"),r==10&&n%30!=0&&(e="md"),r==15&&n%90!=0&&(e="md"),r==30&&n%90!=0&&(e="md");const k={lg:3,md:2,sm:1},H=l.findIndex(b=>b.angle===g),x=l[H]?.level?.slice(6);if(x){if(k[e]<=k[x])return;l.splice(H,1)}l.push({key:`${o.label}-tkLabel-${e}-${f}`,angle:g,label:m,level:`tkLabel tk-${e} no-edit-cursor`,opacity:Ee[e],offset:He[e]}),l.push({key:`tkDash-${e}-${f}`,angle:g,path:De[e],level:`tkDash tk-${e}`})}function Je(l,e,n,i=6,c=30){const r=[],{stepSize:f,dFormatFn:g,level:m}=Pt(e,i,c),k=Math.ceil(l/f)*f,H=l+e,q=Math.floor((H-k)/f);for(let x=0;x<=q&&x<c;x++){const b=+(k+x*f).toFixed(6);Xe(r,m,b,n,g,f)}return{stepSize:f,ticks:r}}function et(l,e,n,i){const c=n/i,r=Math.ceil(l/c)*c,f=r+e-l;return[{key:`tkArcS-${n}-${i}`,level:"tk-solid",beginAngle:l,endAngle:e,offset:1,opacity:.2,zorder:"low"},{key:`tkArcD-${n}-${i}`,level:"tk-dashed",beginAngle:r,endAngle:f,stepSize:n,stepDiv:i,offset:1,zorder:"low"}]}function tt(l,e,n){return a.value.warnings.map(c=>({key:`tkWrn-${c[0]}-${c[1]}-${n}`,beginAngle:c[0],endAngle:c[1],offset:1,opacity:.7,zorder:"low"}))}function ke(l,e){return(n,i)=>{const c=l(i??n??0),r=e(n??0),f=Le(c,r);return g=>c+f*g}}function ue(l,e,n=1,i){const c=e*Math.cos(l*Math.PI/180)*n,r=e*Math.sin(l*Math.PI/180)*n;return`translate(${c}, ${r}) rotate(${i+l})`}function _e(l,e,n,i){if(n&&i){const c=e(0+n)-e(0),r=l*(c/i)*(Math.PI/180);return`${r*.1} ${r*.9}`}else return"none"}function Ae(l,e,n){return typeof l.angle!="number"?0:l.angle>=e&&l.angle<=n?l.opacity??1:0}function ie(l,e){const n=se(l);e.zorder==="high"?n.raise():e.zorder==="low"&&n.lower()}function nt(l,e){const n=se(l);e.path?n.attr("d",e.path):e.label&&n.text(e.label).attr("text-anchor","middle").attr("dominant-baseline","middle")}function Se(l,e,n){const i=l*Math.PI/180,c=e*Math.PI/180,r=n*Math.cos(i),f=n*Math.sin(i),g=n*Math.cos(c),m=n*Math.sin(c),k=te(e-l)>180?1:0;return`M${r},${f} A${n},${n} 0 ${k} 1 ${g},${m}`}function lt(l){return l.map(e=>{const{beginAngle:n,endAngle:i}=e;return typeof n=="number"&&typeof i=="number"&&i<n?{...e,beginAngle:i,endAngle:n}:e})}function J(l="mark",e,n,i,c,r,f){const g=f,[m,k]=c.domain(),[H,q]=c.range(),x=(H+q)/2,b=n.filter(F=>$t(F.angle??0,m,k)),y=ke(i,c);e.selectAll(`.${l}`).data(b,F=>`${F.key}`).join(F=>F.append(u=>document.createElementNS("http://www.w3.org/2000/svg",u.path?"path":"text")).attr("class",u=>`${l} ${u.level}`.trim()).each(function(u){ie(this,u)}).each(function(u){nt(this,u)}).attr("opacity",0).on("mousedown",function(u,B){B.label&&(u.preventDefault(),u.stopPropagation())}).on("click",function(u,B){B.label&&typeof B.angle=="number"&&Qe(u,B.angle)}).transition(g).attr("opacity",u=>Ae(u,m,k)).attrTween("transform",u=>B=>{const ee=y(u.angle,u.oldAngle)(B),oe=u.label?Math.sin(x*Math.PI/180)>0?-90:90:0;return ue(ee,r,u.offset??1,oe)}),F=>F.transition(g).attr("opacity",u=>Ae(u,m,k)).each(function(u){ie(this,u)}).attrTween("transform",u=>B=>{const ee=y(u.angle,u.oldAngle)(B),oe=u.label?Math.sin(x*Math.PI/180)>0?-90:90:0;return ue(ee,r,u.offset??1,oe)}),F=>F.transition(g).attr("opacity",0).attrTween("transform",u=>B=>{const ee=y(u.angle,u.oldAngle)(B),oe=u.label?Math.sin(ee*Math.PI/180)>0?-90:90:0;return ue(ee,r,u.offset??1,oe)}).remove())}function de(l="arc",e,n,i,c,r,f){const g=f,[m,k]=c.domain(),q=lt(n).filter(b=>typeof b.beginAngle!="number"||typeof b.endAngle!="number"?!1:b.beginAngle>=m&&b.endAngle<=k?!0:b.beginAngle>k||b.endAngle<m?!1:(b.beginAngle<m&&(b.beginAngle=m),b.endAngle>k&&(b.endAngle=k),!0)),x=ke(i,c);e.selectAll(`.${l}`).data(q,b=>`${b.key}`).join(b=>b.append("path").attr("class",y=>`${l} ${y.level}`.trim()).each(function(y){ie(this,y)}).style("stroke-dasharray",y=>_e(r,c,y.stepSize,y.stepDiv)).attr("opacity",0).transition(g).attr("opacity",y=>y.opacity??1).attrTween("d",y=>F=>{const u=x(y.beginAngle??0)(F),B=x(y.endAngle??0)(F);return Se(u,B,r*(y.offset??1))}),b=>b.transition(g).each(function(y){ie(this,y)}).attr("opacity",y=>y.opacity??1).style("stroke-dasharray",y=>_e(r,c,y.stepSize,y.stepDiv)).attrTween("d",y=>F=>{const u=x(y.beginAngle??0)(F),B=x(y.endAngle??0)(F);return Se(u,B,r*(y.offset??1))}),b=>b.transition(g).attr("opacity",0).remove())}function ot(){if(!d.value)return;const l=fe().domain([o.pv??0-v.value/2,o.pv??0+v.value/2]).range([0,a.value.width-40]),e=_t(l).ticks(10);se(d.value).transition().duration(200).ease(Pe).call(e)}let Me,$e;function at(){if(!C.value)return;const l=(o.pv??0)-v.value/2,e=(o.pv??0)+v.value/2,{stepSize:n,ticks:i}=Je(l,v.value,a.value.dAngleFn),c=et(l,e,n,5),r=tt(l,e,n),f=a.value.radius,g=fe().domain([l,e]).range([a.value.sAngleLow,a.value.sAngleHigh]),m=Me??g;Me=g;const k=(o.pv??0)+Le(o.pv??0,o.sp??0),H=$e??k;$e=k;const q=se(C.value).attr("transform",`translate(${a.value.cx},${a.value.cy})`),x=At().duration(200).ease(Pe);de("scaleArcs",q,c,m,g,f,x),de("warningArcs",q,r,m,g,f,x),de("tkArcPVtoSP",q,[{beginAngle:o.pv,endAngle:k,offset:1,opacity:.9,zorder:"low"}],m,g,f,x),J("tkMarks",q,i,m,g,f,x),J("pvMark",q,[{key:"pvMark",angle:o.pv,path:"M-8,0 L-30,15 L-30,-15 Z",offset:1,zorder:"high"}],g,g,f,x),J("spMark",q,[{key:"spMark",angle:k,oldAngle:H,path:"M-8,0 L-30,15 L-30,-15 Z",zorder:"high"}],m,g,f,x),J("spLine",q,[{key:"spLine",angle:k,oldAngle:H,path:"M-60,0 L-15,0",zorder:"high"}],m,g,f,x),o.domain=="ra_24"&&o.lst?J("lstMark",q,[{key:"1",angle:o.lst,path:"M-8,0 L18,0",offset:1,zorder:"high",level:"dash"},{key:"2",angle:o.lst,label:"LST",offset:1.2,zorder:"high",level:"label"}],m,g,f,x):J("lstMark",q,[],m,g,f,x)}function it(){j.value?ot():K.value&&at()}return(l,e)=>(T(),X("div",Qt,[w("div",{class:"interaction-area",style:re(`width:${a.value.width}px; height: ${a.value.height}px`),onMouseenter:e[13]||(e[13]=n=>p.value=!0),onMouseleave:e[14]||(e[14]=n=>p.value=!1),onPointerdown:e[15]||(e[15]=n=>p.value=!0)},[w("div",{class:"outer-content",style:re(`width:${a.value.width}px; height: ${a.value.height}px`)},[M(pt,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:$(()=>[p.value?(T(),X("div",Rt,[e[16]||(e[16]=w("div",{class:"row absolute-top-left q-pl-xl q-pb-sm"},null,-1)),M(xt,{rounded:"",class:"row absolute-top-right q-pr-lg"},{default:$(()=>[w("div",Nt,[M(Z,{onClick:We,dense:"",flat:"",color:"secondary",icon:"mdi-magnify-plus-outline"})]),w("div",Ut,[M(Z,{onClick:Ge,dense:"",flat:"",color:"secondary"},{default:$(()=>[E(G(mt(Ct)(v.value,A.value)),1)]),_:1}),M(Z,{onClick:Ke,dense:"",flat:"",color:"secondary",icon:"mdi-magnify-minus-outline"})])]),_:1}),e[17]||(e[17]=w("div",{class:"row absolute-bottom-left q-pa-sm"},null,-1)),e[18]||(e[18]=w("div",{class:"row absolute-bottom-right q-pa-sm"},null,-1))])):Y("",!0)]),_:1})],4),(T(),X("svg",{class:"background-svg",onPointerdown:Ne,onWheel:Ue,ref_key:"svgElement",ref:L,width:a.value.width,height:a.value.height},[w("rect",{width:a.value.width,height:a.value.height,fill:"none","pointer-events":"all"},null,8,Kt),j.value?(T(),X("g",{key:0,ref_key:"linearGroup",ref:d},null,512)):K.value?(T(),X("g",{key:1,ref_key:"circularGroup",ref:C},null,512)):Y("",!0)],40,Wt)),w("div",{class:"center-content no-edit-cursor",style:re(`left:${100*a.value.cx/a.value.width}%; top: ${100*a.value.cy/a.value.height}%`)},[w("div",Gt,[w("div",{class:ht({row:!0,"order-last":a.value.cy>a.value.height/2})},[w("div",Zt,[p.value?(T(),X("div",Yt,[o.label=="Roll"?(T(),ne(ge,{key:0,icon:"mdi-format-align-middle"},{default:$(()=>[M(U,{color:"positive",onClick:e[0]||(e[0]=n=>N({roll:0}))},{default:$(()=>e[19]||(e[19]=[E("0°",-1)])),_:1,__:[19]}),M(U,{color:"positive",onClick:e[1]||(e[1]=n=>N({roll:-70}))},{default:$(()=>e[20]||(e[20]=[E("-70°",-1)])),_:1,__:[20]}),M(U,{color:"positive",onClick:e[2]||(e[2]=n=>N({roll:70}))},{default:$(()=>e[21]||(e[21]=[E("+70°",-1)])),_:1,__:[21]})]),_:1})):Y("",!0),o.label=="Altitude"?(T(),ne(ge,{key:1,icon:"mdi-angle-acute"},{default:$(()=>[M(U,{color:"positive",onClick:e[3]||(e[3]=n=>N({alt:0}))},{default:$(()=>e[22]||(e[22]=[E("0°",-1)])),_:1,__:[22]}),M(U,{color:"positive",onClick:e[4]||(e[4]=n=>N({alt:30}))},{default:$(()=>e[23]||(e[23]=[E("30°",-1)])),_:1,__:[23]}),M(U,{color:"positive",onClick:e[5]||(e[5]=n=>N({alt:45}))},{default:$(()=>e[24]||(e[24]=[E("45°",-1)])),_:1,__:[24]}),M(U,{color:"positive",onClick:e[6]||(e[6]=n=>N({alt:60}))},{default:$(()=>e[25]||(e[25]=[E("60°",-1)])),_:1,__:[25]})]),_:1})):Y("",!0),o.label=="Azimuth"?(T(),ne(ge,{key:2,icon:"mdi-compass-rose"},{default:$(()=>[M(U,{color:"positive",onClick:e[7]||(e[7]=n=>N({az:180}))},{default:$(()=>e[26]||(e[26]=[E("S",-1)])),_:1,__:[26]}),M(U,{color:"positive",onClick:e[8]||(e[8]=n=>N({az:90}))},{default:$(()=>e[27]||(e[27]=[E("E",-1)])),_:1,__:[27]}),M(U,{color:"positive",onClick:e[9]||(e[9]=n=>N({az:270}))},{default:$(()=>e[28]||(e[28]=[E("W",-1)])),_:1,__:[28]}),M(U,{color:"positive",onClick:e[10]||(e[10]=n=>N({az:0}))},{default:$(()=>e[29]||(e[29]=[E("N",-1)])),_:1,__:[29]})]),_:1})):Y("",!0)])):Y("",!0),p.value?(T(),ne(Be,{key:1,activeColor:"positive",icon:"mdi-minus-circle",onPush:Ye})):Y("",!0),w("div",Xt,[e[30]||(e[30]=w("div",{class:"absolute text-positive text-caption"},"Setpoint",-1)),w("div",Jt,G(W.value),1),M(zt,{modelValue:P.value,"onUpdate:modelValue":e[12]||(e[12]=n=>P.value=n),color:"positive",onBeforeShow:Re},{default:$(n=>[M(wt,{label:o.label+" SP",color:"positive",ref_key:"spxInputRef",ref:z,modelValue:P.value,"onUpdate:modelValue":e[11]||(e[11]=i=>P.value=i),autofocus:"",onKeyup:bt(i=>ce(!0,n),["enter"])},{prepend:$(()=>[M(be,{name:"mdi-arrow-up-bold",color:"positive"})]),after:$(()=>[M(Z,{flat:"",dense:"",round:"",color:"negative",icon:"cancel",onClick:i=>ce(!1,n)},null,8,["onClick"]),M(Z,{flat:"",dense:"",round:"",color:"positive",icon:"check_circle",onClick:i=>ce(!0,n)},null,8,["onClick"])]),_:2},1032,["label","modelValue","onKeyup"])]),_:1},8,["modelValue"])]),p.value?(T(),ne(Be,{key:2,activeColor:"positive",icon:"mdi-plus-circle",onPush:Ze})):Y("",!0)])],2),w("div",en,G(o.label),1),w("div",tn,[w("div",nn,G(D.value.sign),1),w("div",ln,G(D.value.degreestr),1),w("div",on,[w("div",an,G(D.value.minutestr),1),w("div",sn,G(D.value.secondstr),1)])])])],4)],36)]))}}),An=xe(rn,[["__scopeId","data-v-d1e736f4"]]),cn={class:"row items-center no-wrap q-pb-md"},un={x:"50",y:"50","text-anchor":"middle","dominant-baseline":"middle",fill:"currentColor","font-size":"35px"},dn={x:"50",y:"130","text-anchor":"middle","dominant-baseline":"middle",fill:"currentColor","font-size":"35px"},fn=ye({__name:"SpinnerSpeed",props:{speed:{},position:{},label:{}},setup(t){const s=t,o=V(null),d=V(null),C=_(()=>{const h=s.speed??0;return v(h)}),L=_(()=>s.position!=null?Lt(s.position,"deg",1):"");function v(h){const O=Math.abs(h),Q=.002,D=9,R=.2,W=5;if(O<Q)return 0;const a=Math.log10(O),A=Math.log10(Q),K=Math.log10(D),S=(a-A)/(K-A);return 360/(W-S*(W-R))}let p=0,P=performance.now(),z=null;function j(){const h=performance.now(),O=(h-P)/1e3;P=h;const D=((s.speed??0)<=0?1:-1)*C.value;p=(p+O*D)%360,o.value&&o.value.setAttribute("transform",`rotate(${p.toFixed(2)} 50 50)`),z=requestAnimationFrame(j)}return Te(()=>{P=performance.now(),z=requestAnimationFrame(j)}),yt(()=>{z!==null&&cancelAnimationFrame(z)}),(h,O)=>(T(),X("div",cn,[(T(),X("svg",{ref_key:"svgRef",ref:d,class:"q-spinner text-primary",width:"50px",height:"80px",viewBox:"0 0 100 160",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},[O[0]||(O[0]=w("circle",{cx:"50",cy:"50",r:"44",fill:"none","stroke-width":"4","stroke-opacity":".5",stroke:"currentColor"},null,-1)),w("text",un,G(s.label),1),w("circle",{ref_key:"orbitingCircle",ref:o,cx:"8",cy:"54",r:"6",fill:"currentColor","stroke-width":"3",stroke:"currentColor"},null,512),w("text",dn,G(L.value),1)],512))]))}}),Sn=xe(fn,[["__scopeId","data-v-7de0ba2d"]]);export{An as S,Sn as a};
