import{e as R,i as y,c as g,h as k,f as w,a6 as h,m as D,aF as B,d as S,a as C,O as c,K as b,M as d,H as r,I as s,F as t,N as u,E as I,Q as i,D as N}from"./index-T-4rhSG0.js";import{u as T,a as q}from"./use-dark-DE-NN0Ly.js";import{u as x}from"./device-_czZEvqZ.js";import{u as E}from"./status-8gs9HN__.js";const v=R({name:"QBanner",props:{...T,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(a,{slots:o}){const{proxy:{$q:n}}=y(),f=q(a,n),m=g(()=>"q-banner row items-center"+(a.dense===!0?" q-banner--dense":"")+(f.value===!0?" q-banner--dark q-dark":"")+(a.rounded===!0?" rounded-borders":"")),_=g(()=>`q-banner__actions row items-center justify-end col-${a.inlineActions===!0?"auto":"all"}`);return()=>{const l=[k("div",{class:"q-banner__avatar col-auto row items-center self-start"},w(o.avatar)),k("div",{class:"q-banner__content col text-body2"},w(o.default))],p=w(o.action);return p!==void 0&&l.push(k("div",{class:_.value},p)),k("div",{class:m.value+(a.inlineActions===!1&&p!==void 0?" q-banner--top-padding":""),role:"alert"},l)}}});function L(){let a=null;const o=y();function n(){a!==null&&(clearInterval(a),a=null)}return h(n),D(n),{removeInterval:n,registerInterval(f,m){n(),B(o)===!1&&(a=setInterval(f,m))}}}const M={key:0},Q={key:1},U={key:2},G={key:3},O={key:4},V={key:5},H=S({__name:"StatusBanners",setup(a){const o=x(),n=E(),f=N(),{registerInterval:m}=L(),_=C(Date.now());m(()=>{_.value=Date.now()},1e3);const l=g(()=>f.path!="/connect"),p=g(()=>_.value-n.fetchedAt>1e3);async function A(){const P=n.atpark?await o.alpacaUnPark():await o.alpacaPark();console.log(P)}return(P,e)=>d(o).restAPIConnected?d(n).connected?d(n).pidmode=="PRESETUP"?(r(),c("div",U,[s(v,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:t(()=>[s(i,{flat:"",label:"Setup",to:"/config"})]),default:t(()=>[e[3]||(e[3]=u(" PRESETUP: Please set your Observing Site Lattitude and Longitude before proceeding. ",-1))]),_:1,__:[3]})])):d(n).pidmode=="LIMIT"?(r(),c("div",G,[s(v,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:t(()=>[s(i,{flat:"",label:"Review",to:"/config"}),s(i,{flat:"",label:"Reset",onClick:e[0]||(e[0]=W=>d(o).ackLimitAlarm())})]),default:t(()=>[e[4]||(e[4]=u(" LIMIT: The Polaris has reached an anti-windup Motor Angle Limit. Please Review and Reset. ",-1))]),_:1,__:[4]})])):p.value?(r(),c("div",O,[s(v,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:t(()=>[l.value?(r(),I(i,{key:0,flat:"",label:"Reconnect",to:"/connect"})):b("",!0)]),default:t(()=>[e[5]||(e[5]=u(" WARNING: The Alpaca Pilot is not receiving updates from the Driver. Check Driver is running. ",-1))]),_:1,__:[5]})])):d(n).atpark?(r(),c("div",V,[s(v,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:t(()=>[s(i,{flat:"",label:"UnPark",onClick:A})]),default:t(()=>[e[6]||(e[6]=u(" PARK: The Alpaca Driver is parked. Most functions are disabled. ",-1))]),_:1,__:[6]})])):b("",!0):(r(),c("div",Q,[s(v,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:t(()=>[l.value?(r(),I(i,{key:0,flat:"",label:"Reconnect",to:"/connect"})):b("",!0)]),default:t(()=>[e[2]||(e[2]=u(" WARNING: The Alpaca Driver has lost connection to the Benro Polaris. ",-1))]),_:1,__:[2]})])):(r(),c("div",M,[s(v,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:t(()=>[l.value?(r(),I(i,{key:0,flat:"",label:"Reconnect",to:"/connect"})):b("",!0)]),default:t(()=>[e[1]||(e[1]=u(" WARNING: You have lost connection to the Alpaca Driver. This app is offline. ",-1))]),_:1,__:[1]})]))}});export{v as Q,H as _};
