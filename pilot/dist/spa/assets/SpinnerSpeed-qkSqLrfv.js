import{c as _,e as me,j as st,a5 as rt,aL as Ve,i as he,h as I,Q as Y,R as be,A as Te,a as V,aq as ct,p as Oe,a2 as ut,f as dt,v as ft,d as ye,E as ne,a3 as re,F as $,aM as vt,H as O,q as ze,aN as gt,w as qe,O as Z,J as w,I as M,X as pt,K as X,N as H,P as G,M as mt,au as ht,Z as bt,z as yt}from"./index-CYMS3cRB.js";import{Q as xt}from"./QBtnGroup-D0GC2VMe.js";import{Q as wt}from"./QInput-DMPrcKzf.js";import{Q as kt}from"./QMenu-8uTSvFWo.js";import{l as fe,f as _t,s as se,h as Pe,j as At}from"./index-DaEgsOZv.js";import{b as Le,w as te,f as ve,h as St,d as Mt,e as Fe,i as $t}from"./angles-CM-dTGcw.js";import{a as Ct,g as Be,s as qt,b as Pt,f as Lt}from"./scale-BUHoRS_z.js";import{_ as Ie}from"./MoveButton.vue_vue_type_script_setup_true_lang-DnQ7RVIr.js";import{g as Ft}from"./use-key-composition-DHCk1ZlV.js";import{u as Bt,a as It,b as Vt}from"./use-model-toggle-Dd0TX-To.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Tt=["top","right","bottom","left"],pe={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:t=>Tt.includes(t)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function je(t,r){return{formClass:_(()=>`q-fab--form-${t.square===!0?"square":"rounded"}`),stacked:_(()=>t.externalLabel===!1&&["top","bottom"].includes(t.labelPosition)),labelProps:_(()=>{if(t.externalLabel===!0){const o=t.hideLabel===null?r.value===!1:t.hideLabel;return{action:"push",data:{class:[t.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${t.labelPosition}`+(o===!0?" q-fab__label--external-hidden":"")],style:t.labelStyle}}}return{action:["left","top"].includes(t.labelPosition)?"unshift":"push",data:{class:[t.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${t.labelPosition}`+(t.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:t.labelStyle}}})}}const De={start:"self-end",center:"self-center",end:"self-start"},Ot=Object.keys(De),U=me({name:"QFabAction",props:{...pe,icon:{type:String,default:""},anchor:{type:String,validator:t=>Ot.includes(t)},to:[String,Object],replace:Boolean},emits:["click"],setup(t,{slots:r,emit:o}){const d=st(Ve,()=>({showing:{value:!0},onChildClick:rt})),{formClass:C,labelProps:F}=je(t,d.showing),v=_(()=>{const h=De[t.anchor];return C.value+(h!==void 0?` ${h}`:"")}),p=_(()=>t.disable===!0||d.showing.value!==!0);function q(h){d.onChildClick(h),o("click",h)}function z(){const h=[];return r.icon!==void 0?h.push(r.icon()):t.icon!==""&&h.push(I(be,{name:t.icon})),(t.label!==""||r.label!==void 0)&&h[F.value.action](I("div",F.value.data,r.label!==void 0?r.label():[t.label])),Te(r.default,h)}const j=he();return Object.assign(j.proxy,{click:q}),()=>I(Y,{class:v.value,...t,noWrap:!0,stack:t.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:p.value,onClick:q},z)}});function ae(t,r=new WeakMap){if(Object(t)!==t)return t;if(r.has(t))return r.get(t);const o=t instanceof Date?new Date(t):t instanceof RegExp?new RegExp(t.source,t.flags):t instanceof Set?new Set:t instanceof Map?new Map:typeof t.constructor!="function"?Object.create(null):t.prototype!==void 0&&typeof t.prototype.constructor=="function"?t:new t.constructor;if(typeof t.constructor=="function"&&typeof t.valueOf=="function"){const d=t.valueOf();if(Object(d)!==d){const C=new t.constructor(d);return r.set(t,C),C}}return r.set(t,o),t instanceof Set?t.forEach(d=>{o.add(ae(d,r))}):t instanceof Map&&t.forEach((d,C)=>{o.set(C,ae(d,r))}),Object.assign(o,...Object.keys(t).map(d=>({[d]:ae(t[d],r)})))}const zt=me({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(t,{slots:r,emit:o}){const{proxy:d}=he(),{$q:C}=d,F=V(null),v=V(""),p=V("");let q=!1;const z=_(()=>ct({initialValue:v.value,validate:t.validate,set:j,cancel:h,updatePosition:T},"value",()=>p.value,S=>{p.value=S}));function j(){t.validate(p.value)!==!1&&(Q()===!0&&(o("save",p.value,v.value),o("update:modelValue",p.value)),D())}function h(){Q()===!0&&o("cancel",p.value,v.value),D()}function T(){Oe(()=>{F.value.updatePosition()})}function Q(){return ut(p.value,v.value)===!1}function D(){q=!0,F.value.hide()}function R(){q=!1,v.value=ae(t.modelValue),p.value=ae(t.modelValue),o("beforeShow")}function W(){o("show")}function a(){q===!1&&Q()===!0&&(t.autoSave===!0&&t.validate(p.value)===!0?(o("save",p.value,v.value),o("update:modelValue",p.value)):o("cancel",p.value,v.value)),o("beforeHide")}function A(){o("hide")}function K(){const S=r.default!==void 0?[].concat(r.default(z.value)):[];return t.title&&S.unshift(I("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},t.title)),t.buttons===!0&&S.push(I("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[I(Y,{flat:!0,color:t.color,label:t.labelCancel||C.lang.label.cancel,onClick:h}),I(Y,{flat:!0,color:t.color,label:t.labelSet||C.lang.label.set,onClick:j})])),S}return Object.assign(d,{set:j,cancel:h,show(S){F.value?.show(S)},hide(S){F.value?.hide(S)},updatePosition:T}),()=>{if(t.disable!==!0)return I(kt,{ref:F,class:"q-popup-edit",cover:t.cover,onBeforeShow:R,onShow:W,onBeforeHide:a,onHide:A,onEscapeKey:h},K)}}}),jt=["up","right","down","left"],Dt=["left","center","right"],Et=me({name:"QFab",props:{...pe,...It,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{...pe.hideLabel,default:null},direction:{type:String,default:"right",validator:t=>jt.includes(t)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:t=>Dt.includes(t)}},emits:Bt,setup(t,{slots:r}){const o=V(null),d=V(t.modelValue===!0),C=Ft(),{proxy:{$q:F}}=he(),{formClass:v,labelProps:p}=je(t,d),q=_(()=>t.persistent!==!0),{hide:z,toggle:j}=Vt({showing:d,hideOnRouteChange:q}),h=_(()=>({opened:d.value})),T=_(()=>`q-fab z-fab row inline justify-center q-fab--align-${t.verticalActionsAlign} ${v.value}`+(d.value===!0?" q-fab--opened":" q-fab--closed")),Q=_(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${t.direction} q-fab__actions--${d.value===!0?"opened":"closed"}`),D=_(()=>{const A={id:C.value,role:"menu"};return d.value!==!0&&(A["aria-hidden"]="true"),A}),R=_(()=>`q-fab__icon-holder  q-fab__icon-holder--${d.value===!0?"opened":"closed"}`);function W(A,K){const S=r[A],le=`q-fab__${A} absolute-full`;return S===void 0?I(be,{class:le,name:t[K]||F.iconSet.fab[K]}):I("div",{class:le},S(h.value))}function a(){const A=[];return t.hideIcon!==!0&&A.push(I("div",{class:R.value},[W("icon","icon"),W("active-icon","activeIcon")])),(t.label!==""||r.label!==void 0)&&A[p.value.action](I("div",p.value.data,r.label!==void 0?r.label(h.value):[t.label])),Te(r.tooltip,A)}return ft(Ve,{showing:d,onChildClick(A){z(A),A?.qAvoidFocus!==!0&&o.value?.$el.focus()}}),()=>I("div",{class:T.value},[I(Y,{ref:o,class:v.value,...t,noWrap:!0,stack:t.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":d.value===!0?"true":"false","aria-haspopup":"true","aria-controls":C.value,onClick:j},a),I("div",{class:Q.value,...D.value},dt(r.default))])}}),Ht=ye({__name:"MoveFab",props:{icon:{type:String,default:"mdi-plus-circle"}},setup(t){const r=V(!1);return(o,d)=>(O(),ne(Et,{class:"move-fab",push:"",padding:"xs",direction:"up",modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=C=>r.value=C),icon:t.icon,"text-color":r.value?"white":"dark",color:(r.value,"positive"),style:re(r.value?"opacity: 1":"opacity: 0.4")},{default:$(()=>[vt(o.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue","icon","text-color","color","style"]))}}),ge=xe(Ht,[["__scopeId","data-v-e7438b71"]]),Qt={class:"overlay-container relative-position"},Rt={key:0},Nt={class:"column"},Ut={class:"column","text-primary":""},Wt=["width","height"],Kt=["width","height"],Gt={class:"column items-center"},Yt={class:"row text-positive text-h6 items-center q-gutter-xs no-wrap text-weight-light"},Xt={key:0},Zt={class:"column items-left sp-readout-value"},Jt={class:"q-pt-md"},en={class:"text-h4 text-grey-6 text-center text-no-wrap"},tn={class:"row items-center q-gutter-xs no-wrap"},nn={class:"text-h4"},ln={class:"text-h2 text-weight-bold"},on={class:"column"},an={class:"text-h5 text-grey-4"},sn={class:"text-subtitle2 text-grey-5"},rn=ye({__name:"ScaleDisplay",props:{pv:{},sp:{},lst:{},label:{},domain:{}},emits:["clickScale","clickFabAngle","clickMove"],setup(t,{emit:r}){const o=t,d=V(null),C=V(null),F=V(null),v=V(200),p=V(!1),q=V(""),z=V(),j=_(()=>o.domain==="linear_360"),h=_(()=>`${o.domain}-${v.value}-${o.pv}-${o.sp}-${o.lst}`),T=_(()=>a.value.dAngleFn(o.pv??0)),Q=_(()=>a.value.dAngleFn(o.sp??0)),D=_(()=>Le(T.value,1,a.value.unit)),R=_(()=>Le(Q.value,1,a.value.unit)),W=_(()=>R.value?(R.value.sign??"")+R.value.degreestr+R.value.minutestr+R.value.secondstr:""),a=_(()=>le[o.domain]),A=_(()=>a.value.unit),K=_(()=>["circular_360","semihi_360","semilo_360","semihi_180","semihi_24","semilo_180","circular_180","az_360","alt_90","roll_180","ra_24","dec_180","pa_360"].includes(o.domain)),S=r,le={linear_360:{width:400,height:400,cx:200,cy:200,radius:150,sAngleLow:-10,sAngleHigh:190,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]},circular_360:{width:400,height:400,cx:200,cy:200,radius:150,sAngleLow:10,sAngleHigh:340,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]},az_360:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]},alt_90:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:ve,unit:"deg",minScale:2/60,maxScale:200,warnings:[[82,200],[-100,-8]]},roll_180:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:ve,unit:"deg",minScale:2/60,maxScale:200,warnings:[[82,200],[-82,-200]]},ra_24:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:St,unit:"hr",minScale:1/60,maxScale:12,warnings:[]},dec_180:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:ve,unit:"deg",minScale:2/60,maxScale:200,warnings:[[90,200],[-90,-200]]},pa_360:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]}},Ee={lg:"M-8,0 L18,0",md:"M-8,0 L14,0",sm:"M-8,0 L11,0"},He={lg:1.2,md:1.165,sm:1.13},Qe={lg:1,md:1,sm:.5},we=gt(it,20);ze(we),qe(h,we),qe(a,()=>{v.value=Math.max(a.value.minScale,Math.min(a.value.maxScale,v.value))});function N(l){S("clickFabAngle",l)}function Re(l,e){l.preventDefault(),l.stopPropagation(),e=a.value.dAngleFn(e),S("clickScale",{label:o.label,angle:e,radialOffset:1})}async function Ne(){q.value=W.value,await Oe();const l=z.value?.$el?.querySelector("input");l&&l.select()}function ce(l,e){if(e.cancel(),l){const n=Mt(q.value);S("clickScale",{label:o.label,angle:n,radialOffset:1})}}function ke(l){const e=F.value;if(!e)return;let n,i;if(l instanceof TouchEvent){const s=l.touches[0];if(!s)return;n=s.clientX,i=s.clientY}else n=l.clientX,i=l.clientY;if(n===void 0||i===void 0)return;const c=e.createSVGPoint();c.x=n,c.y=i;const u=c.matrixTransform(e.getScreenCTM()?.inverse()),f=Math.atan2(u.y-a.value.cy,u.x-a.value.cx),g=te(f*(180/Math.PI));if(g<a.value.sAngleLow||g>a.value.sAngleHigh)return;const m=(o.pv??0)-v.value/2,k=(o.pv??0)+v.value/2,E=fe().domain([a.value.sAngleLow,a.value.sAngleHigh]).range([m,k]),L=a.value.dAngleFn(E(g)),b=u.x-a.value.cx,x=u.y-a.value.cy,P=Math.sqrt(b*b+x*x)/a.value.radius;P<.8||P>1.25||p.value&&S("clickScale",{label:o.label,angle:L,radialOffset:P})}function Ue(l){l.preventDefault();const e=1.2,n=50,i=Math.sign(l.deltaY),c=Math.abs(l.deltaY),u=Math.pow(e,c/n);let f=v.value;f*=Math.pow(u,i),f=Math.max(a.value.minScale,Math.min(a.value.maxScale,f)),v.value=f}function We(){const l=Be(v.value);l.nextDown&&l.nextDown>=a.value.minScale&&(v.value=l.nextDown)}function Ke(){const l=Be(v.value);l.nextUp&&l.nextUp<=a.value.maxScale&&(v.value=l.nextUp)}function Ge(){v.value=a.value.maxScale}function Ye(l){S("clickMove",{label:o.label,rateScale:l.isPressed?v.value:0})}function Xe(l){S("clickMove",{label:o.label,rateScale:l.isPressed?-v.value:0})}function Ze(l,e,n,i,c,u){const f=n.toFixed(6),g=n;let m=c(i(n),A.value);["md","sm"].includes(e)&&/^[+-]?\d+[°ʰ]$/.test(m)&&(e="lg"),e==="sm"&&/^[+-]?\d+[′ᵐ]$/.test(m)&&(e="md"),e==="sm"&&/^[+-]?60[″ˢ]$/.test(m)&&(e="md",m=Pt(n,A.value)),u==1&&n%5!=0&&a.value.unit=="deg"&&(e="md"),u==2&&n%10!=0&&a.value.unit=="deg"&&(e="md"),u==5&&n%30!=0&&(e="md"),u==10&&n%30!=0&&(e="md"),u==15&&n%90!=0&&(e="md"),u==30&&n%90!=0&&(e="md");const k={lg:3,md:2,sm:1},E=l.findIndex(x=>x.angle===g),b=l[E]?.level?.slice(6);if(b){if(k[e]<=k[b])return;l.splice(E,1)}l.push({key:`${o.label}-tkLabel-${e}-${f}`,angle:g,label:m,level:`tkLabel tk-${e} no-edit-cursor`,opacity:Qe[e],offset:He[e]}),l.push({key:`tkDash-${e}-${f}`,angle:g,path:Ee[e],level:`tkDash tk-${e}`})}function Je(l,e,n,i=6,c=30){const u=[],{stepSize:f,dFormatFn:g,level:m}=qt(e,i,c),k=Math.ceil(l/f)*f,E=l+e,L=Math.floor((E-k)/f);for(let b=0;b<=L&&b<c;b++){const x=+(k+b*f).toFixed(6);Ze(u,m,x,n,g,f)}return{stepSize:f,ticks:u}}function et(l,e,n,i){const c=n/i,u=Math.ceil(l/c)*c,f=u+e-l;return[{key:`tkArcS-${n}-${i}`,level:"tk-solid",beginAngle:l,endAngle:e,offset:1,opacity:.2,zorder:"low"},{key:`tkArcD-${n}-${i}`,level:"tk-dashed",beginAngle:u,endAngle:f,stepSize:n,stepDiv:i,offset:1,zorder:"low"}]}function tt(l,e,n){return a.value.warnings.map(c=>({key:`tkWrn-${c[0]}-${c[1]}-${n}`,beginAngle:c[0],endAngle:c[1],offset:1,opacity:.7,zorder:"low"}))}function _e(l,e){return(n,i)=>{const c=l(i??n??0),u=e(n??0),f=Fe(c,u);return g=>c+f*g}}function ue(l,e,n=1,i){const c=e*Math.cos(l*Math.PI/180)*n,u=e*Math.sin(l*Math.PI/180)*n;return`translate(${c}, ${u}) rotate(${i+l})`}function Ae(l,e,n,i){if(n&&i){const c=e(0+n)-e(0),u=l*(c/i)*(Math.PI/180);return`${u*.1} ${u*.9}`}else return"none"}function Se(l,e,n){return typeof l.angle!="number"?0:l.angle>=e&&l.angle<=n?l.opacity??1:0}function ie(l,e){const n=se(l);e.zorder==="high"?n.raise():e.zorder==="low"&&n.lower()}function nt(l,e){const n=se(l);e.path?n.attr("d",e.path):e.label&&n.text(e.label).attr("text-anchor","middle").attr("dominant-baseline","middle")}function Me(l,e,n){const i=l*Math.PI/180,c=e*Math.PI/180,u=n*Math.cos(i),f=n*Math.sin(i),g=n*Math.cos(c),m=n*Math.sin(c),k=te(e-l)>180?1:0;return`M${u},${f} A${n},${n} 0 ${k} 1 ${g},${m}`}function lt(l){return l.map(e=>{const{beginAngle:n,endAngle:i}=e;return typeof n=="number"&&typeof i=="number"&&i<n?{...e,beginAngle:i,endAngle:n}:e})}function J(l="mark",e,n,i,c,u,f){const g=f,[m,k]=c.domain(),[E,L]=c.range(),b=(E+L)/2,x=n.filter(P=>$t(P.angle??0,m,k)),y=_e(i,c);e.selectAll(`.${l}`).data(x,P=>`${P.key}`).join(P=>P.append(s=>document.createElementNS("http://www.w3.org/2000/svg",s.path?"path":"text")).attr("class",s=>`${l} ${s.level}`.trim()).each(function(s){ie(this,s)}).each(function(s){nt(this,s)}).attr("opacity",0).on("mousedown",function(s,B){B.label&&(s.preventDefault(),s.stopPropagation())}).on("click",function(s,B){B.label&&typeof B.angle=="number"&&Re(s,B.angle)}).transition(g).attr("opacity",s=>Se(s,m,k)).attrTween("transform",s=>B=>{const ee=y(s.angle,s.oldAngle)(B),oe=s.label?Math.sin(b*Math.PI/180)>0?-90:90:0;return ue(ee,u,s.offset??1,oe)}),P=>P.transition(g).attr("opacity",s=>Se(s,m,k)).each(function(s){ie(this,s)}).attrTween("transform",s=>B=>{const ee=y(s.angle,s.oldAngle)(B),oe=s.label?Math.sin(b*Math.PI/180)>0?-90:90:0;return ue(ee,u,s.offset??1,oe)}),P=>P.transition(g).attr("opacity",0).attrTween("transform",s=>B=>{const ee=y(s.angle,s.oldAngle)(B),oe=s.label?Math.sin(ee*Math.PI/180)>0?-90:90:0;return ue(ee,u,s.offset??1,oe)}).remove())}function de(l="arc",e,n,i,c,u,f){const g=f,[m,k]=c.domain(),L=lt(n).filter(x=>typeof x.beginAngle!="number"||typeof x.endAngle!="number"?!1:x.beginAngle>=m&&x.endAngle<=k?!0:x.beginAngle>k||x.endAngle<m?!1:(x.beginAngle<m&&(x.beginAngle=m),x.endAngle>k&&(x.endAngle=k),!0)),b=_e(i,c);e.selectAll(`.${l}`).data(L,x=>`${x.key}`).join(x=>x.append("path").attr("class",y=>`${l} ${y.level}`.trim()).each(function(y){ie(this,y)}).style("stroke-dasharray",y=>Ae(u,c,y.stepSize,y.stepDiv)).attr("opacity",0).transition(g).attr("opacity",y=>y.opacity??1).attrTween("d",y=>P=>{const s=b(y.beginAngle??0)(P),B=b(y.endAngle??0)(P);return Me(s,B,u*(y.offset??1))}),x=>x.transition(g).each(function(y){ie(this,y)}).attr("opacity",y=>y.opacity??1).style("stroke-dasharray",y=>Ae(u,c,y.stepSize,y.stepDiv)).attrTween("d",y=>P=>{const s=b(y.beginAngle??0)(P),B=b(y.endAngle??0)(P);return Me(s,B,u*(y.offset??1))}),x=>x.transition(g).attr("opacity",0).remove())}function ot(){if(!d.value)return;const l=fe().domain([o.pv??0-v.value/2,o.pv??0+v.value/2]).range([0,a.value.width-40]),e=_t(l).ticks(10);se(d.value).transition().duration(200).ease(Pe).call(e)}let $e,Ce;function at(){if(!C.value)return;const l=(o.pv??0)-v.value/2,e=(o.pv??0)+v.value/2,{stepSize:n,ticks:i}=Je(l,v.value,a.value.dAngleFn),c=et(l,e,n,5),u=tt(l,e,n),f=a.value.radius,g=fe().domain([l,e]).range([a.value.sAngleLow,a.value.sAngleHigh]),m=$e??g;$e=g;const k=(o.pv??0)+Fe(o.pv??0,o.sp??0),E=Ce??k;Ce=k;const L=se(C.value).attr("transform",`translate(${a.value.cx},${a.value.cy})`),b=At().duration(200).ease(Pe);de("scaleArcs",L,c,m,g,f,b),de("warningArcs",L,u,m,g,f,b),de("tkArcPVtoSP",L,[{beginAngle:o.pv,endAngle:k,offset:1,opacity:.9,zorder:"low"}],m,g,f,b),J("tkMarks",L,i,m,g,f,b),J("pvMark",L,[{key:"pvMark",angle:o.pv,path:"M-8,0 L-30,15 L-30,-15 Z",offset:1,zorder:"high"}],g,g,f,b),J("spMark",L,[{key:"spMark",angle:k,oldAngle:E,path:"M-8,0 L-30,15 L-30,-15 Z",zorder:"high"}],m,g,f,b),J("spLine",L,[{key:"spLine",angle:k,oldAngle:E,path:"M-60,0 L-15,0",zorder:"high"}],m,g,f,b),o.domain=="ra_24"&&o.lst?J("lstMark",L,[{key:"1",angle:o.lst,path:"M-8,0 L18,0",offset:1,zorder:"high",level:"dash"},{key:"2",angle:o.lst,label:"LST",offset:1.2,zorder:"high",level:"label"}],m,g,f,b):J("lstMark",L,[],m,g,f,b)}function it(){j.value?ot():K.value&&at()}return(l,e)=>(O(),Z("div",Qt,[w("div",{class:"interaction-area",style:re(`width:${a.value.width}px; height: ${a.value.height}px`),onMouseenter:e[13]||(e[13]=n=>p.value=!0),onMouseleave:e[14]||(e[14]=n=>p.value=!1),onTouchstartPassive:e[15]||(e[15]=n=>{p.value=!0,console.log(`touch ${o.label}`)})},[w("div",{class:"outer-content",style:re(`width:${a.value.width}px; height: ${a.value.height}px`)},[M(pt,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:$(()=>[p.value?(O(),Z("div",Rt,[e[16]||(e[16]=w("div",{class:"row absolute-top-left q-pl-xl q-pb-sm"},null,-1)),M(xt,{rounded:"",class:"row absolute-top-right q-pr-lg"},{default:$(()=>[w("div",Nt,[M(Y,{onClick:We,dense:"",flat:"",color:"secondary",icon:"mdi-magnify-plus-outline"})]),w("div",Ut,[M(Y,{onClick:Ge,dense:"",flat:"",color:"secondary"},{default:$(()=>[H(G(mt(Ct)(v.value,A.value)),1)]),_:1}),M(Y,{onClick:Ke,dense:"",flat:"",color:"secondary",icon:"mdi-magnify-minus-outline"})])]),_:1}),e[17]||(e[17]=w("div",{class:"row absolute-bottom-left q-pa-sm"},null,-1)),e[18]||(e[18]=w("div",{class:"row absolute-bottom-right q-pa-sm"},null,-1))])):X("",!0)]),_:1})],4),(O(),Z("svg",{class:"background-svg",onMousedown:ke,onTouchstartPassive:ke,onWheel:Ue,ref_key:"svgElement",ref:F,width:a.value.width,height:a.value.height},[w("rect",{width:a.value.width,height:a.value.height,fill:"transparent"},null,8,Kt),j.value?(O(),Z("g",{key:0,ref_key:"linearGroup",ref:d},null,512)):K.value?(O(),Z("g",{key:1,ref_key:"circularGroup",ref:C},null,512)):X("",!0)],40,Wt)),w("div",{class:"center-content no-edit-cursor",style:re(`left:${100*a.value.cx/a.value.width}%; top: ${100*a.value.cy/a.value.height}%`)},[w("div",Gt,[w("div",{class:ht({row:!0,"order-last":a.value.cy>a.value.height/2})},[w("div",Yt,[p.value?(O(),Z("div",Xt,[o.label=="Roll"?(O(),ne(ge,{key:0,icon:"mdi-format-align-middle"},{default:$(()=>[M(U,{color:"positive",onClick:e[0]||(e[0]=n=>N({roll:0}))},{default:$(()=>e[19]||(e[19]=[H("0°",-1)])),_:1,__:[19]}),M(U,{color:"positive",onClick:e[1]||(e[1]=n=>N({roll:-45}))},{default:$(()=>e[20]||(e[20]=[H("-45°",-1)])),_:1,__:[20]}),M(U,{color:"positive",onClick:e[2]||(e[2]=n=>N({roll:45}))},{default:$(()=>e[21]||(e[21]=[H("+45°",-1)])),_:1,__:[21]})]),_:1})):X("",!0),o.label=="Altitude"?(O(),ne(ge,{key:1,icon:"mdi-angle-acute"},{default:$(()=>[M(U,{color:"positive",onClick:e[3]||(e[3]=n=>N({alt:0}))},{default:$(()=>e[22]||(e[22]=[H("0°",-1)])),_:1,__:[22]}),M(U,{color:"positive",onClick:e[4]||(e[4]=n=>N({alt:30}))},{default:$(()=>e[23]||(e[23]=[H("30°",-1)])),_:1,__:[23]}),M(U,{color:"positive",onClick:e[5]||(e[5]=n=>N({alt:45}))},{default:$(()=>e[24]||(e[24]=[H("45°",-1)])),_:1,__:[24]}),M(U,{color:"positive",onClick:e[6]||(e[6]=n=>N({alt:60}))},{default:$(()=>e[25]||(e[25]=[H("60°",-1)])),_:1,__:[25]})]),_:1})):X("",!0),o.label=="Azimuth"?(O(),ne(ge,{key:2,icon:"mdi-compass-rose"},{default:$(()=>[M(U,{color:"positive",onClick:e[7]||(e[7]=n=>N({az:180}))},{default:$(()=>e[26]||(e[26]=[H("S",-1)])),_:1,__:[26]}),M(U,{color:"positive",onClick:e[8]||(e[8]=n=>N({az:90}))},{default:$(()=>e[27]||(e[27]=[H("E",-1)])),_:1,__:[27]}),M(U,{color:"positive",onClick:e[9]||(e[9]=n=>N({az:270}))},{default:$(()=>e[28]||(e[28]=[H("W",-1)])),_:1,__:[28]}),M(U,{color:"positive",onClick:e[10]||(e[10]=n=>N({az:0}))},{default:$(()=>e[29]||(e[29]=[H("N",-1)])),_:1,__:[29]})]),_:1})):X("",!0)])):X("",!0),p.value?(O(),ne(Ie,{key:1,activeColor:"positive",icon:"mdi-minus-circle",onPush:Xe})):X("",!0),w("div",Zt,[e[30]||(e[30]=w("div",{class:"absolute text-positive text-caption"},"Setpoint",-1)),w("div",Jt,G(W.value),1),M(zt,{modelValue:q.value,"onUpdate:modelValue":e[12]||(e[12]=n=>q.value=n),color:"positive",onBeforeShow:Ne},{default:$(n=>[M(wt,{label:o.label+" SP",color:"positive",ref_key:"spxInputRef",ref:z,modelValue:q.value,"onUpdate:modelValue":e[11]||(e[11]=i=>q.value=i),autofocus:"",onKeyup:bt(i=>ce(!0,n),["enter"])},{prepend:$(()=>[M(be,{name:"mdi-arrow-up-bold",color:"positive"})]),after:$(()=>[M(Y,{flat:"",dense:"",round:"",color:"negative",icon:"cancel",onClick:i=>ce(!1,n)},null,8,["onClick"]),M(Y,{flat:"",dense:"",round:"",color:"positive",icon:"check_circle",onClick:i=>ce(!0,n)},null,8,["onClick"])]),_:2},1032,["label","modelValue","onKeyup"])]),_:1},8,["modelValue"])]),p.value?(O(),ne(Ie,{key:2,activeColor:"positive",icon:"mdi-plus-circle",onPush:Ye})):X("",!0)])],2),w("div",en,G(o.label),1),w("div",tn,[w("div",nn,G(D.value.sign),1),w("div",ln,G(D.value.degreestr),1),w("div",on,[w("div",an,G(D.value.minutestr),1),w("div",sn,G(D.value.secondstr),1)])])])],4)],36)]))}}),An=xe(rn,[["__scopeId","data-v-26d6541c"]]),cn={class:"row items-center no-wrap q-pb-md"},un={x:"50",y:"50","text-anchor":"middle","dominant-baseline":"middle",fill:"currentColor","font-size":"35px"},dn={x:"50",y:"130","text-anchor":"middle","dominant-baseline":"middle",fill:"currentColor","font-size":"35px"},fn=ye({__name:"SpinnerSpeed",props:{speed:{},position:{},label:{}},setup(t){const r=t,o=V(null),d=V(null),C=_(()=>{const h=r.speed??0;return v(h)}),F=_(()=>r.position!=null?Lt(r.position,"deg",1):"");function v(h){const T=Math.abs(h),Q=.002,D=9,R=.2,W=5;if(T<Q)return 0;const a=Math.log10(T),A=Math.log10(Q),K=Math.log10(D),S=(a-A)/(K-A);return 360/(W-S*(W-R))}let p=0,q=performance.now(),z=null;function j(){const h=performance.now(),T=(h-q)/1e3;q=h;const D=((r.speed??0)<=0?1:-1)*C.value;p=(p+T*D)%360,o.value&&o.value.setAttribute("transform",`rotate(${p.toFixed(2)} 50 50)`),z=requestAnimationFrame(j)}return ze(()=>{q=performance.now(),z=requestAnimationFrame(j)}),yt(()=>{z!==null&&cancelAnimationFrame(z)}),(h,T)=>(O(),Z("div",cn,[(O(),Z("svg",{ref_key:"svgRef",ref:d,class:"q-spinner text-primary",width:"50px",height:"80px",viewBox:"0 0 100 160",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},[T[0]||(T[0]=w("circle",{cx:"50",cy:"50",r:"44",fill:"none","stroke-width":"4","stroke-opacity":".5",stroke:"currentColor"},null,-1)),w("text",un,G(r.label),1),w("circle",{ref_key:"orbitingCircle",ref:o,cx:"8",cy:"54",r:"6",fill:"currentColor","stroke-width":"3",stroke:"currentColor"},null,512),w("text",dn,G(F.value),1)],512))]))}}),Sn=xe(fn,[["__scopeId","data-v-7de0ba2d"]]);export{An as S,Sn as a};
