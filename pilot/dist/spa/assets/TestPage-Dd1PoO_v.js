import{Q as De}from"./QSpace-61SGXAn0.js";import{Q as Ee}from"./QBtnDropdown-DXwg5OoT.js";import{Q as je}from"./QBtnToggle-ChCm1MGV.js";import{i as ve,a as k,c as a,a8 as Ue,a9 as H,m as Ke,aa as Oe,h as b,t as He,e as Je,w as We,ab as Xe,d as Ge,q as Ye,z as Ze,E as el,F as m,J as M,I as i,N as R,O as ll,K as al,R as J,H as ie}from"./index-CYMS3cRB.js";import{u as tl,b as rl,c as ol,Q as W,a as V}from"./QItem-PkKJGLwX.js";import{T as nl}from"./TouchPan-BZYOKm2z.js";import{u as sl,a as ul}from"./use-dark-BB_R-jdB.js";import{b as B}from"./format-BvkBI9bc.js";import{Q as il}from"./QList-4KZyepCx.js";import{Q as cl}from"./QPage-ZRV8Lbsr.js";import{S as vl,a as X}from"./SpinnerSpeed-qkSqLrfv.js";import"./QBtnGroup-D0GC2VMe.js";import"./QMenu-8uTSvFWo.js";import"./position-engine-B_7cvKln.js";import"./selection-Ca_2EiFv.js";import"./focus-manager-CQtTx6D0.js";import"./use-model-toggle-Dd0TX-To.js";import"./use-timeout-CvGNwR6b.js";import"./use-key-composition-DHCk1ZlV.js";import"./touch-BjYP5sR0.js";import"./QInput-DMPrcKzf.js";import"./index-DaEgsOZv.js";import"./angles-CM-dTGcw.js";import"./scale-BUHoRS_z.js";import"./MoveButton.vue_vue_type_script_setup_true_lang-DnQ7RVIr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ce="q-slider__marker-labels",dl=r=>({value:r}),ml=({marker:r})=>b("div",{key:r.value,style:r.style,class:r.classes},r.label),de=[34,37,40,33,39,38],bl={...sl,...tl,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:r=>r>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},fl=["pan","update:modelValue","change"];function pl({updateValue:r,updatePosition:f,getDragging:g,formAttrs:o}){const{props:e,emit:w,slots:n,proxy:{$q:c}}=ve(),N=ul(e,c),P=rl(o),C=k(!1),L=k(!1),x=k(!1),T=k(!1),p=a(()=>e.vertical===!0?"--v":"--h"),Q=a(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),y=a(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(c.lang.rtl===!0)),h=a(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),_=a(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),v=a(()=>e.disable!==!0&&e.readonly!==!0&&h.value<_.value),S=a(()=>{if(e.step===0)return t=>t;const l=(String(e.step).trim().split(".")[1]||"").length;return t=>parseFloat(t.toFixed(l))}),q=a(()=>e.step===0?1:e.step),me=a(()=>v.value===!0?e.tabindex||0:-1),A=a(()=>e.max-e.min),Y=a(()=>_.value-h.value),I=a(()=>E(h.value)),D=a(()=>E(_.value)),z=a(()=>e.vertical===!0?y.value===!0?"bottom":"top":y.value===!0?"right":"left"),Z=a(()=>e.vertical===!0?"height":"width"),be=a(()=>e.vertical===!0?"width":"height"),ee=a(()=>e.vertical===!0?"vertical":"horizontal"),fe=a(()=>{const l={role:"slider","aria-valuemin":h.value,"aria-valuemax":_.value,"aria-orientation":ee.value,"data-step":e.step};return e.disable===!0?l["aria-disabled"]="true":e.readonly===!0&&(l["aria-readonly"]="true"),l}),pe=a(()=>`q-slider q-slider${p.value} q-slider--${C.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(v.value===!0?" q-slider--editable":""))+(x.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(N.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+p.value:""));function F(l){const t="q-slider__"+l;return`${t} ${t}${p.value} ${t}${p.value}${Q.value}`}function le(l){const t="q-slider__"+l;return`${t} ${t}${p.value}`}const ke=a(()=>{const l=e.selectionColor||e.color;return"q-slider__selection absolute"+(l!==void 0?` text-${l}`:"")}),ge=a(()=>le("markers")+" absolute overflow-hidden"),Ce=a(()=>le("track-container")),xe=a(()=>F("pin")),he=a(()=>F("label")),ye=a(()=>F("text-container")),_e=a(()=>F("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),Se=a(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),$e=a(()=>{const l={[be.value]:e.trackSize};return e.trackImg!==void 0&&(l.backgroundImage=`url(${e.trackImg}) !important`),l}),Me=a(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),ae=a(()=>{const l=D.value-I.value,t={[z.value]:`${100*I.value}%`,[Z.value]:l===0?"2px":`${100*l}%`};return e.innerTrackImg!==void 0&&(t.backgroundImage=`url(${e.innerTrackImg}) !important`),t});function we(l){const{min:t,max:s,step:u}=e;let d=t+l*(s-t);if(u>0){const $=(d-h.value)%u;d+=(Math.abs($)>=u/2?($<0?-1:1)*u:0)-$}return d=S.value(d),B(d,h.value,_.value)}function E(l){return A.value===0?0:(l-e.min)/A.value}function qe(l,t){const s=Oe(l),u=e.vertical===!0?B((s.top-t.top)/t.height,0,1):B((s.left-t.left)/t.width,0,1);return B(y.value===!0?1-u:u,I.value,D.value)}const te=a(()=>Ue(e.markers)===!0?e.markers:q.value),re=a(()=>{const l=[],t=te.value,s=e.max;let u=e.min;do l.push(u),u+=t;while(u<s);return l.push(s),l}),oe=a(()=>{const l=` ${ce}${p.value}-`;return ce+`${l}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${l}${y.value===!0?"rtl":"ltr"}`}),j=a(()=>e.markerLabels===!1?null:Te(e.markerLabels).map((l,t)=>({index:t,value:l.value,label:l.label||l.value,classes:oe.value+(l.classes!==void 0?" "+l.classes:""),style:{...se(l.value),...l.style||{}}}))),ne=a(()=>({markerList:j.value,markerMap:Ve.value,classes:oe.value,getStyle:se})),Le=a(()=>{const l=Y.value===0?"2px":100*te.value/Y.value;return{...ae.value,backgroundSize:e.vertical===!0?`2px ${l}%`:`${l}% 2px`}});function Te(l){if(l===!1)return null;if(l===!0)return re.value.map(dl);if(typeof l=="function")return re.value.map(s=>{const u=l(s);return H(u)===!0?{...u,value:s}:{value:s,label:u}});const t=({value:s})=>s>=e.min&&s<=e.max;return Array.isArray(l)===!0?l.map(s=>H(s)===!0?s:{value:s}).filter(t):Object.keys(l).map(s=>{const u=l[s],d=Number(s);return H(u)===!0?{...u,value:d}:{value:d,label:u}}).filter(t)}function se(l){return{[z.value]:`${100*(l-e.min)/A.value}%`}}const Ve=a(()=>{if(e.markerLabels===!1)return null;const l={};return j.value.forEach(t=>{l[t.value]=t}),l});function Be(){if(n["marker-label-group"]!==void 0)return n["marker-label-group"](ne.value);const l=n["marker-label"]||ml;return j.value.map(t=>l({marker:t,...ne.value}))}const Re=a(()=>[[nl,Ne,void 0,{[ee.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Ne(l){l.isFinal===!0?(T.value!==void 0&&(f(l.evt),l.touch===!0&&r(!0),T.value=void 0,w("pan","end")),C.value=!1,x.value=!1):l.isFirst===!0?(T.value=g(l.evt),f(l.evt),r(),C.value=!0,w("pan","start")):(f(l.evt),r())}function ue(){x.value=!1}function Ae(l){f(l,g(l)),r(),L.value=!0,C.value=!0,document.addEventListener("mouseup",U,!0)}function U(){L.value=!1,C.value=!1,r(!0),ue(),document.removeEventListener("mouseup",U,!0)}function Ie(l){f(l,g(l)),r(!0)}function ze(l){de.includes(l.keyCode)&&r(!0)}function Fe(l){if(e.vertical===!0)return null;const t=c.lang.rtl!==e.reverse?1-l:l;return{transform:`translateX(calc(${2*t-1} * ${e.thumbSize} / 2 + ${50-100*t}%))`}}function Pe(l){const t=a(()=>L.value===!1&&(x.value===l.focusValue||x.value==="both")?" q-slider--focus":""),s=a(()=>`q-slider__thumb q-slider__thumb${p.value} q-slider__thumb${p.value}-${y.value===!0?"rtl":"ltr"} absolute non-selectable`+t.value+(l.thumbColor.value!==void 0?` text-${l.thumbColor.value}`:"")),u=a(()=>({width:e.thumbSize,height:e.thumbSize,[z.value]:`${100*l.ratio.value}%`,zIndex:x.value===l.focusValue?2:void 0})),d=a(()=>l.labelColor.value!==void 0?` text-${l.labelColor.value}`:""),$=a(()=>Fe(l.ratio.value)),K=a(()=>"q-slider__text"+(l.labelTextColor.value!==void 0?` text-${l.labelTextColor.value}`:""));return()=>{const O=[b("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[b("path",{d:e.thumbPath})]),b("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(O.push(b("div",{class:xe.value+" absolute fit no-pointer-events"+d.value},[b("div",{class:he.value,style:{minWidth:e.thumbSize}},[b("div",{class:ye.value,style:$.value},[b("span",{class:K.value},l.label.value)])])])),e.name!==void 0&&e.disable!==!0&&P(O,"push")),b("div",{class:s.value,style:u.value,...l.getNodeData()},O)}}function Qe(l,t,s,u){const d=[];e.innerTrackColor!=="transparent"&&d.push(b("div",{key:"inner",class:Me.value,style:ae.value})),e.selectionColor!=="transparent"&&d.push(b("div",{key:"selection",class:ke.value,style:l.value})),e.markers!==!1&&d.push(b("div",{key:"marker",class:ge.value,style:Le.value})),u(d);const $=[He("div",{key:"trackC",class:Ce.value,tabindex:t.value,...s.value},[b("div",{class:Se.value,style:$e.value},d)],"slide",v.value,()=>Re.value)];if(e.markerLabels!==!1){const K=e.switchMarkerLabelsSide===!0?"unshift":"push";$[K](b("div",{key:"markerL",class:_e.value},Be()))}return $}return Ke(()=>{document.removeEventListener("mouseup",U,!0)}),{state:{active:C,focus:x,preventFocus:L,dragging:T,editable:v,classes:pe,tabindex:me,attributes:fe,roundValueFn:S,keyStep:q,trackLen:A,innerMin:h,innerMinRatio:I,innerMax:_,innerMaxRatio:D,positionProp:z,sizeProp:Z,isReversed:y},methods:{onActivate:Ae,onMobileClick:Ie,onBlur:ue,onKeyup:ze,getContent:Qe,getThumbRenderFn:Pe,convertRatioToModel:we,convertModelToRatio:E,getDraggingRatio:qe}}}const kl=()=>({}),G=Je({name:"QSlider",props:{...bl,modelValue:{required:!0,default:null,validator:r=>typeof r=="number"||r===null},labelValue:[String,Number]},emits:fl,setup(r,{emit:f}){const{proxy:{$q:g}}=ve(),{state:o,methods:e}=pl({updateValue:p,updatePosition:y,getDragging:Q,formAttrs:ol(r)}),w=k(null),n=k(0),c=k(0);function N(){c.value=r.modelValue===null?o.innerMin.value:B(r.modelValue,o.innerMin.value,o.innerMax.value)}We(()=>`${r.modelValue}|${o.innerMin.value}|${o.innerMax.value}`,N),N();const P=a(()=>e.convertModelToRatio(c.value)),C=a(()=>o.active.value===!0?n.value:P.value),L=a(()=>{const v={[o.positionProp.value]:`${100*o.innerMinRatio.value}%`,[o.sizeProp.value]:`${100*(C.value-o.innerMinRatio.value)}%`};return r.selectionImg!==void 0&&(v.backgroundImage=`url(${r.selectionImg}) !important`),v}),x=e.getThumbRenderFn({focusValue:!0,getNodeData:kl,ratio:C,label:a(()=>r.labelValue!==void 0?r.labelValue:c.value),thumbColor:a(()=>r.thumbColor||r.color),labelColor:a(()=>r.labelColor),labelTextColor:a(()=>r.labelTextColor)}),T=a(()=>o.editable.value!==!0?{}:g.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:h,onBlur:e.onBlur,onKeydown:_,onKeyup:e.onKeyup});function p(v){c.value!==r.modelValue&&f("update:modelValue",c.value),v===!0&&f("change",c.value)}function Q(){return w.value.getBoundingClientRect()}function y(v,S=o.dragging.value){const q=e.getDraggingRatio(v,S);c.value=e.convertRatioToModel(q),n.value=r.snap!==!0||r.step===0?q:e.convertModelToRatio(c.value)}function h(){o.focus.value=!0}function _(v){if(de.includes(v.keyCode)===!1)return;Xe(v);const S=([34,33].includes(v.keyCode)?10:1)*o.keyStep.value,q=([34,37,40].includes(v.keyCode)?-1:1)*(o.isReversed.value===!0?-1:1)*(r.vertical===!0?-1:1)*S;c.value=B(o.roundValueFn.value(c.value+q),o.innerMin.value,o.innerMax.value),p()}return()=>{const v=e.getContent(L,o.tabindex,T,S=>{S.push(x())});return b("div",{ref:w,class:o.classes.value+(r.modelValue===null?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":r.modelValue},v)}}}),gl={class:"row q-pa-sm q-col-gutter-md items-center"},Cl={class:"col text-h6 q-ml-md"},xl={key:0,class:"text-caption text-grey-6"},hl={class:"q-gutter-md flex justify-end q-mr-md"},yl={flat:"",bordered:"",class:"col"},_l={class:"row"},Sl={clas:"col"},$l={class:"col"},Ml={class:"col-12 q-pa-lg q-gutter-md"},Zl=Ge({__name:"TestPage",setup(r){const f=k(0),g=k(90),o=k(10),e=k("az_360");return Ye(()=>{}),Ze(()=>{}),(w,n)=>(ie(),el(cl,null,{default:m(()=>[M("div",gl,[M("div",Cl,[n[4]||(n[4]=R(" Alpaca Test Page ",-1)),w.$q.screen.gt.xs?(ie(),ll("div",xl," Test individual vue components or elements ")):al("",!0)]),i(De),M("div",hl,[i(Ee,{rounded:"",color:"grey-9",label:"Log Settings","content-style":{width:"400px"}},{default:m(()=>n[5]||(n[5]=[R(" dummy dropdown content ",-1)])),_:1,__:[5]})])]),M("div",yl,[M("div",_l,[M("div",Sl,[i(vl,{pv:f.value,sp:g.value,lst:o.value,label:"Azimuth",domain:e.value},null,8,["pv","sp","lst","domain"])]),M("div",$l,[i(X,{speed:f.value,position:359.2,label:"M3"},null,8,["speed"]),i(X,{speed:-5/600,position:180.2,label:"M2"}),i(X,{speed:.2,position:0,label:"M1"})]),M("div",Ml,[i(je,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=c=>e.value=c),color:"brown","text-color":"white","toggle-color":"orange","toggle-text-color":"black",rounded:"",unelevated:"",glossy:"",options:[{label:"Az",value:"az_360"},{label:"Alt",value:"alt_90"},{label:"Roll",value:"roll_180"},{label:"RA",value:"ra_24"},{label:"Dec",value:"dec_180"},{label:"PA",value:"pa_360"},{label:"Linear",value:"linear_360"},{label:"Circular",value:"circular_360"}]},null,8,["modelValue"]),i(il,null,{default:m(()=>[i(W,null,{default:m(()=>[i(V,{avatar:""},{default:m(()=>[i(J,{name:"mdi-triangle"},{default:m(()=>n[6]||(n[6]=[R("PV",-1)])),_:1,__:[6]})]),_:1}),i(V,null,{default:m(()=>[i(G,{modelValue:f.value,"onUpdate:modelValue":n[1]||(n[1]=c=>f.value=c),min:-360,max:360,step:.01,label:"","label-always":"",color:"orange","track-color":"brown","thumb-color":"black"},null,8,["modelValue"])]),_:1})]),_:1}),i(W,null,{default:m(()=>[i(V,{avatar:""},{default:m(()=>[i(J,{color:"positive",name:"mdi-arrow-up-bold"},{default:m(()=>n[7]||(n[7]=[R("SP",-1)])),_:1,__:[7]})]),_:1}),i(V,null,{default:m(()=>[i(G,{modelValue:g.value,"onUpdate:modelValue":n[2]||(n[2]=c=>g.value=c),min:-360,max:360,step:.01,label:"","label-always":"",color:"orange","track-color":"brown","thumb-color":"black"},null,8,["modelValue"])]),_:1})]),_:1}),i(W,null,{default:m(()=>[i(V,{avatar:""},{default:m(()=>[i(J,{color:"positive",name:"mdi-clock-outline"},{default:m(()=>n[8]||(n[8]=[R("LST",-1)])),_:1,__:[8]})]),_:1}),i(V,null,{default:m(()=>[i(G,{modelValue:o.value,"onUpdate:modelValue":n[3]||(n[3]=c=>o.value=c),min:-24,max:24,step:1/60,label:"","label-always":"",color:"orange","track-color":"brown","thumb-color":"black"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])])])]),_:1}))}});export{Zl as default};
