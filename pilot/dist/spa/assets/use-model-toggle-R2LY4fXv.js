import{aT as M,aU as V,i as P,w as T,al as W,q as z,p as x}from"./index-D0PfnkpG.js";const A=[Element,String],C=[null,document,document.body,document.scrollingElement,document.documentElement];function X(e,o){let t=M(o);if(t===void 0){if(e==null)return window;t=e.closest(".scroll,.scroll-y,.overflow-auto")}return C.includes(t)?window:t}function O(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function U(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function E(e,o,t=0){const i=arguments[3]===void 0?performance.now():arguments[3],r=O(e);if(t<=0){r!==o&&p(e,o);return}requestAnimationFrame(u=>{const s=u-i,l=r+(o-r)/Math.max(s,t)*s;p(e,l),l!==o&&E(e,o,t-s,u)})}function H(e,o,t=0){const i=arguments[3]===void 0?performance.now():arguments[3],r=U(e);if(t<=0){r!==o&&w(e,o);return}requestAnimationFrame(u=>{const s=u-i,l=r+(o-r)/Math.max(s,t)*s;w(e,l),l!==o&&H(e,o,t-s,u)})}function p(e,o){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o);return}e.scrollTop=o}function w(e,o){if(e===window){window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=o}function Y(e,o,t){if(t){E(e,o,t);return}p(e,o)}function F(e,o,t){if(t){H(e,o,t);return}w(e,o)}let f;function N(){if(f!==void 0)return f;const e=document.createElement("p"),o=document.createElement("div");V(e,{width:"100%",height:"200px"}),V(o,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),o.appendChild(e),document.body.appendChild(o);const t=e.offsetWidth;o.style.overflow="scroll";let i=e.offsetWidth;return t===i&&(i=o.clientWidth),o.remove(),f=t-i,f}function j(e,o=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:o?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}const k={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},B=["beforeShow","show","beforeHide","hide"];function D({showing:e,canShow:o,hideOnRouteChange:t,handleShow:i,handleHide:r,processOnMount:u}){const s=P(),{props:l,emit:c,proxy:g}=s;let a;function L(n){e.value===!0?m(n):h(n)}function h(n){if(l.disable===!0||n?.qAnchorHandled===!0||o!==void 0&&o(n)!==!0)return;const d=l["onUpdate:modelValue"]!==void 0;d===!0&&(c("update:modelValue",!0),a=n,x(()=>{a===n&&(a=void 0)})),(l.modelValue===null||d===!1)&&v(n)}function v(n){e.value!==!0&&(e.value=!0,c("beforeShow",n),i!==void 0?i(n):c("show",n))}function m(n){if(l.disable===!0)return;const d=l["onUpdate:modelValue"]!==void 0;d===!0&&(c("update:modelValue",!1),a=n,x(()=>{a===n&&(a=void 0)})),(l.modelValue===null||d===!1)&&b(n)}function b(n){e.value!==!1&&(e.value=!1,c("beforeHide",n),r!==void 0?r(n):c("hide",n))}function y(n){l.disable===!0&&n===!0?l["onUpdate:modelValue"]!==void 0&&c("update:modelValue",!1):n===!0!==e.value&&(n===!0?v:b)(a)}T(()=>l.modelValue,y),t!==void 0&&W(s)===!0&&T(()=>g.$route.fullPath,()=>{t.value===!0&&e.value===!0&&m()}),u===!0&&z(()=>{y(l.modelValue)});const S={show:h,hide:m,toggle:L};return Object.assign(g,S),S}export{k as a,D as b,X as c,O as d,U as e,F as f,N as g,Y as h,j as i,A as s,B as u};
