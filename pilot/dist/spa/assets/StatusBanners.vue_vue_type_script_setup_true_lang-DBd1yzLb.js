import{e as D,i as I,c as _,h as w,f as y,a6 as C,m as N,aF as B,d as T,a as S,O as c,K as v,M as f,H as a,I as o,F as n,N as d,E as g,Q as r,D as q}from"./index-BUwF_4CE.js";import{u as x,a as E}from"./use-dark-UF0pfkDd.js";import{u as L}from"./device-w3oeM-SI.js";import{u as G}from"./status-DdFbEl85.js";const u=D({name:"QBanner",props:{...x,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(s,{slots:i}){const{proxy:{$q:t}}=I(),p=E(s,t),k=_(()=>"q-banner row items-center"+(s.dense===!0?" q-banner--dense":"")+(p.value===!0?" q-banner--dark q-dark":"")+(s.rounded===!0?" rounded-borders":"")),b=_(()=>`q-banner__actions row items-center justify-end col-${s.inlineActions===!0?"auto":"all"}`);return()=>{const l=[w("div",{class:"q-banner__avatar col-auto row items-center self-start"},y(i.avatar)),w("div",{class:"q-banner__content col text-body2"},y(i.default))],m=y(i.action);return m!==void 0&&l.push(w("div",{class:b.value},m)),w("div",{class:k.value+(s.inlineActions===!1&&m!==void 0?" q-banner--top-padding":""),role:"alert"},l)}}});function M(){let s=null;const i=I();function t(){s!==null&&(clearInterval(s),s=null)}return C(t),N(t),{removeInterval:t,registerInterval(p,k){t(),B(i)===!1&&(s=setInterval(p,k))}}}const O={key:0},Q={key:1},U={key:2},W={key:3},V={key:4},$={key:5},F={key:6},K={key:7},X=T({__name:"StatusBanners",setup(s){const i=L(),t=G(),p=q(),{registerInterval:k}=M(),b=S(Date.now());k(()=>{b.value=Date.now()},1e3);const l=_(()=>p.path!="/connect"),m=_(()=>b.value-t.fetchedAt>1e3),P=_(()=>t.age517>2),R=_(()=>t.age518>2);async function h(){const A=t.atpark?await i.alpacaUnPark():await i.alpacaPark();console.log(A)}return(A,e)=>f(i).restAPIConnected?f(t).connected?f(t).pidmode=="PRESETUP"?(a(),c("div",U,[o(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[o(r,{flat:"",label:"Setup",to:"/config"})]),default:n(()=>[e[3]||(e[3]=d(" PRESETUP: Please set your Observing Site Lattitude and Longitude before proceeding. ",-1))]),_:1,__:[3]})])):f(t).pidmode=="LIMIT"?(a(),c("div",W,[o(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[o(r,{flat:"",label:"Review",to:"/config"}),o(r,{flat:"",label:"Reset",onClick:e[0]||(e[0]=j=>f(i).ackLimitAlarm())})]),default:n(()=>[e[4]||(e[4]=d(" LIMIT: The Polaris has reached an anti-windup Motor Angle Limit. Please Review and Reset. ",-1))]),_:1,__:[4]})])):m.value?(a(),c("div",V,[o(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[l.value?(a(),g(r,{key:0,flat:"",label:"Reconnect",to:"/connect"})):v("",!0)]),default:n(()=>[e[5]||(e[5]=d(" WARNING: The Alpaca Pilot is not receiving updates from the Driver. Check Driver is running. ",-1))]),_:1,__:[5]})])):R.value?(a(),c("div",$,[o(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[l.value?(a(),g(r,{key:0,flat:"",label:"Reconnect",to:"/connect"})):v("",!0)]),default:n(()=>[e[6]||(e[6]=d(" WARNING: The Alpaca Driver is not receiving position updates from Polaris. Check Connection. ",-1))]),_:1,__:[6]})])):P.value?(a(),c("div",F,[o(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[l.value?(a(),g(r,{key:0,flat:"",label:"Reconnect",to:"/connect"})):v("",!0)]),default:n(()=>[e[7]||(e[7]=d(" WARNING: The Alpaca Pilot is not receiving orientation updates from Polaris. Check Connection. ",-1))]),_:1,__:[7]})])):f(t).atpark?(a(),c("div",K,[o(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[o(r,{flat:"",label:"UnPark",onClick:h})]),default:n(()=>[e[8]||(e[8]=d(" PARK: The Alpaca Driver is parked. Most functions are disabled. ",-1))]),_:1,__:[8]})])):v("",!0):(a(),c("div",Q,[o(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[l.value?(a(),g(r,{key:0,flat:"",label:"Reconnect",to:"/connect"})):v("",!0)]),default:n(()=>[e[2]||(e[2]=d(" WARNING: The Alpaca Driver has lost connection to the Benro Polaris. ",-1))]),_:1,__:[2]})])):(a(),c("div",O,[o(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[l.value?(a(),g(r,{key:0,flat:"",label:"Reconnect",to:"/connect"})):v("",!0)]),default:n(()=>[e[1]||(e[1]=d(" WARNING: You have lost connection to the Alpaca Driver. This app is offline. ",-1))]),_:1,__:[1]})]))}});export{u as Q,X as _};
