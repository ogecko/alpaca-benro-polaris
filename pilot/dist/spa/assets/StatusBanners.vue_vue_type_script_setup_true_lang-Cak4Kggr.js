import{e as D,i as y,c as f,h as A,f as P,a5 as S,m as B,aE as T,d as q,D as M,a as E,O as c,K as v,M as p,H as o,I as a,F as n,N as d,E as _,Q as i}from"./index-6oN2Ss7u.js";import{u as G,a as W}from"./use-dark-gvinMmMG.js";import{u as x}from"./device-C0bpDIxX.js";import{u as L}from"./status-DViR5SHd.js";const u=D({name:"QBanner",props:{...G,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(s,{slots:r}){const{proxy:{$q:t}}=y(),m=W(s,t),g=f(()=>"q-banner row items-center"+(s.dense===!0?" q-banner--dense":"")+(m.value===!0?" q-banner--dark q-dark":"")+(s.rounded===!0?" rounded-borders":"")),b=f(()=>`q-banner__actions row items-center justify-end col-${s.inlineActions===!0?"auto":"all"}`);return()=>{const l=[A("div",{class:"q-banner__avatar col-auto row items-center self-start"},P(r.avatar)),A("div",{class:"q-banner__content col text-body2"},P(r.default))],k=P(r.action);return k!==void 0&&l.push(A("div",{class:b.value},k)),A("div",{class:g.value+(s.inlineActions===!1&&k!==void 0?" q-banner--top-padding":""),role:"alert"},l)}}});function O(){let s=null;const r=y();function t(){s!==null&&(clearInterval(s),s=null)}return S(t),B(t),{removeInterval:t,registerInterval(m,g){t(),T(r)===!1&&(s=setInterval(m,g))}}}const Q={key:0},U={key:1},V={key:2},$={key:3},K={key:4},j={key:5},F={key:6},H={key:7},Y={key:8},z={key:9},te=q({__name:"StatusBanners",setup(s){const r=x(),t=L(),m=M(),{registerInterval:g}=O(),b=E(Date.now());g(()=>{b.value=Date.now()},1e3);const l=f(()=>m.path!="/connect"),k=f(()=>b.value-t.fetchedAt>1e3),R=f(()=>t.age517>2),I=f(()=>t.age518>2),N=f(()=>t.polarisastrover==""),h=f(()=>t.polarismode!=8);async function C(){const w=t.atpark?await r.alpacaUnPark():await r.alpacaPark();console.log(w)}return(w,e)=>p(r).restAPIConnected?k.value?(o(),c("div",U,[a(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[l.value?(o(),_(i,{key:0,flat:"",label:"Reconnect",to:"/connect"})):v("",!0)]),default:n(()=>[e[2]||(e[2]=d(" WARNING: The Alpaca Pilot is not receiving updates from the Driver. Check Driver is running. ",-1))]),_:1,__:[2]})])):p(t).connected?N.value?(o(),c("div",$,[a(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[l.value?(o(),_(i,{key:0,flat:"",label:"Reconnect",to:"/connect"})):v("",!0)]),default:n(()=>[e[4]||(e[4]=d(" WARNING: No Astro version detected. Please attach Polaris Astro module and reconnect. ",-1))]),_:1,__:[4]})])):h.value?(o(),c("div",K,[a(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[l.value?(o(),_(i,{key:0,flat:"",label:"Astro Mode",to:"/connect"})):v("",!0)]),default:n(()=>[e[5]||(e[5]=d(" WARNING: Polaris not in the Astro imaging mode. Please select Polaris Astro mode. ",-1))]),_:1,__:[5]})])):p(t).pidmode=="PRESETUP"?(o(),c("div",j,[a(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[a(i,{flat:"",label:"Setup",to:"/config"})]),default:n(()=>[e[6]||(e[6]=d(" PRESETUP: Please set your Observing Site Lattitude and Longitude before proceeding. ",-1))]),_:1,__:[6]})])):p(t).pidmode=="LIMIT"?(o(),c("div",F,[a(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[a(i,{flat:"",label:"Review",to:"/config"}),a(i,{flat:"",label:"Reset",onClick:e[0]||(e[0]=J=>p(r).ackLimitAlarm())})]),default:n(()=>[e[7]||(e[7]=d(" LIMIT: The Polaris has reached an anti-windup Motor Angle Limit. Please Review and Reset. ",-1))]),_:1,__:[7]})])):I.value?(o(),c("div",H,[a(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[l.value?(o(),_(i,{key:0,flat:"",label:"Reconnect",to:"/connect"})):v("",!0)]),default:n(()=>[e[8]||(e[8]=d(" WARNING: The Alpaca Driver is not receiving position updates from Polaris. Check Connection Step Completion. ",-1))]),_:1,__:[8]})])):R.value?(o(),c("div",Y,[a(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[l.value?(o(),_(i,{key:0,flat:"",label:"Reconnect",to:"/connect"})):v("",!0)]),default:n(()=>[e[9]||(e[9]=d(" WARNING: The Alpaca Pilot is not receiving orientation updates from Polaris. Check Connection Step Completion. ",-1))]),_:1,__:[9]})])):p(t).atpark?(o(),c("div",z,[a(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[a(i,{flat:"",label:"UnPark",onClick:C})]),default:n(()=>[e[10]||(e[10]=d(" PARK: The Alpaca Driver is parked. Most functions are disabled. ",-1))]),_:1,__:[10]})])):v("",!0):(o(),c("div",V,[a(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[l.value?(o(),_(i,{key:0,flat:"",label:"Reconnect",to:"/connect"})):v("",!0)]),default:n(()=>[e[3]||(e[3]=d(" WARNING: The Alpaca Driver has lost connection to the Benro Polaris. ",-1))]),_:1,__:[3]})])):(o(),c("div",Q,[a(u,{"inline-actions":"",rounded:"",class:"bg-warning"},{action:n(()=>[l.value?(o(),_(i,{key:0,flat:"",label:"Reconnect",to:"/connect"})):v("",!0)]),default:n(()=>[e[1]||(e[1]=d(" WARNING: You have lost connection to the Alpaca Driver. This app is offline. ",-1))]),_:1,__:[1]})]))}});export{u as Q,te as _};
