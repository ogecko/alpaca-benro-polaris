import{u as X,Q as ne}from"./QCircularProgress-Dx9CMSwY.js";import{T as ae}from"./TouchPan-De0OJQYa.js";import{e as z,i as Z,a as A,c as l,w as F,aa as p,a9 as ie,t as le,h as s,m as ee,W as oe,ab as ue,u as te,s as re,ac as se,f as de,R as G}from"./index-Dx5-9Vdh.js";import{b as R,n as Y}from"./format-BvkBI9bc.js";import{u as ce,c as ge,Q as fe,a as D}from"./QItem-s6vDCOg1.js";import{Q as U}from"./QItemLabel-DKkNeboc.js";import{Q as W}from"./QSeparator-B9Na72Tv.js";import{u as ve,a as me}from"./use-dark-T81UEqai.js";import{u as he,a as be}from"./use-id-BbGOx_an.js";import{u as xe,a as Se,b as ye}from"./use-model-toggle-EtaFIrcD.js";const J=[34,37,40,33,39,38],Ie=Object.keys(X),Fe=z({name:"QKnob",props:{...ce,...X,modelValue:{type:Number,required:!0},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},tabindex:{type:[Number,String],default:0},disable:Boolean,readonly:Boolean},emits:["update:modelValue","change","dragValue"],setup(e,{slots:C,emit:k}){const{proxy:f}=Z(),{$q:T}=f,i=A(e.modelValue),c=A(!1),o=l(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),d=l(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax);let v;function b(){i.value=e.modelValue===null?o.value:R(e.modelValue,o.value,d.value),M(!0)}F(()=>`${e.modelValue}|${o.value}|${d.value}`,b),b();const u=l(()=>e.disable===!1&&e.readonly===!1),w=l(()=>"q-knob non-selectable"+(u.value===!0?" q-knob--editable":e.disable===!0?" disabled":"")),N=l(()=>(String(e.step).trim().split(".")[1]||"").length),q=l(()=>e.step===0?1:e.step),n=l(()=>e.instantFeedback===!0||c.value===!0),m=T.platform.is.mobile===!0?l(()=>u.value===!0?{onClick:Q}:{}):l(()=>u.value===!0?{onMousedown:$,onClick:Q,onKeydown:V,onKeyup:O}:{}),x=l(()=>u.value===!0?{tabindex:e.tabindex}:{[`aria-${e.disable===!0?"disabled":"readonly"}`]:"true"}),S=l(()=>{const a={};return Ie.forEach(g=>{a[g]=e[g]}),a});function B(a){a.isFinal?(L(a.evt,!0),c.value=!1):(a.isFirst&&(P(),c.value=!0),L(a.evt))}const E=l(()=>[[ae,B,void 0,{prevent:!0,stop:!0,mouse:!0}]]);function P(){const{top:a,left:g,width:y,height:t}=f.$el.getBoundingClientRect();v={top:a+t/2,left:g+y/2}}function $(a){P(),L(a)}function Q(a){P(),L(a,!0)}function V(a){if(J.includes(a.keyCode)===!1)return;p(a);const g=([34,33].includes(a.keyCode)?10:1)*q.value,y=[34,37,40].includes(a.keyCode)?-g:g;i.value=R(parseFloat((i.value+y).toFixed(N.value)),o.value,d.value),M()}function L(a,g){const y=ie(a),t=Math.abs(y.top-v.top),I=Math.sqrt(t**2+Math.abs(y.left-v.left)**2);let r=Math.asin(t/I)*(180/Math.PI);y.top<v.top?r=v.left<y.left?90-r:270+r:r=v.left<y.left?r+90:270-r,T.lang.rtl===!0?r=Y(-r-e.angle,0,360):e.angle&&(r=Y(r-e.angle,0,360)),e.reverse===!0&&(r=360-r);let h=e.min+r/360*(e.max-e.min);if(q.value!==0){const K=h%q.value;h=h-K+(Math.abs(K)>=q.value/2?(K<0?-1:1)*q.value:0),h=parseFloat(h.toFixed(N.value))}h=R(h,o.value,d.value),k("dragValue",h),i.value!==h&&(i.value=h),M(g)}function O(a){J.includes(a.keyCode)&&M(!0)}function M(a){e.modelValue!==i.value&&k("update:modelValue",i.value),a===!0&&k("change",i.value)}const H=ge(e);function j(){return s("input",H.value)}return()=>{const a={class:w.value,role:"slider","aria-valuemin":o.value,"aria-valuemax":d.value,"aria-valuenow":e.modelValue,...x.value,...S.value,value:i.value,instantFeedback:n.value,...m.value},g={default:C.default};return u.value===!0&&e.name!==void 0&&(g.internal=j),le(ne,a,g,"knob",u.value,()=>E.value)}}}),Te=z({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:C,emit:k}){let f=!1,T,i,c=null,o=null,d,v;function b(){T?.(),T=null,f=!1,c!==null&&(clearTimeout(c),c=null),o!==null&&(clearTimeout(o),o=null),i?.removeEventListener("transitionend",d),d=null}function u(n,m,x){m!==void 0&&(n.style.height=`${m}px`),n.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,f=!0,T=x}function w(n,m){n.style.overflowY=null,n.style.height=null,n.style.transition=null,b(),m!==v&&k(m)}function N(n,m){let x=0;i=n,f===!0?(b(),x=n.offsetHeight===n.scrollHeight?0:void 0):(v="hide",n.style.overflowY="hidden"),u(n,x,m),c=setTimeout(()=>{c=null,n.style.height=`${n.scrollHeight}px`,d=S=>{o=null,(Object(S)!==S||S.target===n)&&w(n,"show")},n.addEventListener("transitionend",d),o=setTimeout(d,e.duration*1.1)},100)}function q(n,m){let x;i=n,f===!0?b():(v="show",n.style.overflowY="hidden",x=n.scrollHeight),u(n,x,m),c=setTimeout(()=>{c=null,n.style.height=0,d=S=>{o=null,(Object(S)!==S||S.target===n)&&w(n,"hide")},n.addEventListener("transitionend",d),o=setTimeout(d,e.duration*1.1)},100)}return ee(()=>{f===!0&&b()}),()=>s(oe,{css:!1,appear:e.appear,onEnter:N,onLeave:q},C.default)}}),_=ue({}),ke=Object.keys(te),Ae=z({name:"QExpansionItem",props:{...te,...Se,...ve,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...xe,"click","afterShow","afterHide"],setup(e,{slots:C,emit:k}){const{proxy:{$q:f}}=Z(),T=me(e,f),i=A(e.modelValue!==null?e.modelValue:e.defaultOpened),c=A(null),o=he(),{show:d,hide:v,toggle:b}=ye({showing:i});let u,w;const N=l(()=>`q-expansion-item q-item-type q-expansion-item--${i.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),q=l(()=>e.contentInsetLevel===void 0?null:{["padding"+(f.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),n=l(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),m=l(()=>{const t={};return ke.forEach(I=>{t[I]=e[I]}),t}),x=l(()=>n.value===!0||e.expandIconToggle!==!0),S=l(()=>e.expandedIcon!==void 0&&i.value===!0?e.expandedIcon:e.expandIcon||f.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),B=l(()=>e.disable!==!0&&(n.value===!0||e.expandIconToggle===!0)),E=l(()=>({expanded:i.value===!0,detailsId:o.value,toggle:b,show:d,hide:v})),P=l(()=>{const t=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:f.lang.label[i.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":i.value===!0?"true":"false","aria-controls":o.value,"aria-label":t}});F(()=>e.group,t=>{w?.(),t!==void 0&&M()});function $(t){n.value!==!0&&b(t),k("click",t)}function Q(t){t.keyCode===13&&V(t,!0)}function V(t,I){I!==!0&&t.qAvoidFocus!==!0&&c.value?.focus(),b(t),p(t)}function L(){k("afterShow")}function O(){k("afterHide")}function M(){u===void 0&&(u=be()),i.value===!0&&(_[e.group]=u);const t=F(i,r=>{r===!0?_[e.group]=u:_[e.group]===u&&delete _[e.group]}),I=F(()=>_[e.group],(r,h)=>{h===u&&r!==void 0&&r!==u&&v()});w=()=>{t(),I(),_[e.group]===u&&delete _[e.group],w=void 0}}function H(){const t={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},I=[s(G,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&i.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:S.value})];return B.value===!0&&(Object.assign(t,{tabindex:0,...P.value,onClick:V,onKeyup:Q}),I.unshift(s("div",{ref:c,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),s(D,t,()=>I)}function j(){let t;return C.header!==void 0?t=[].concat(C.header(E.value)):(t=[s(D,()=>[s(U,{lines:e.labelLines},()=>e.label||""),e.caption?s(U,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&t[e.switchToggleSide===!0?"push":"unshift"](s(D,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>s(G,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&t[e.switchToggleSide===!0?"unshift":"push"](H()),t}function a(){const t={ref:"item",style:e.headerStyle,class:e.headerClass,dark:T.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return x.value===!0&&(t.clickable=!0,t.onClick=$,Object.assign(t,n.value===!0?m.value:P.value)),s(fe,t,j)}function g(){return re(s("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:q.value,id:o.value},de(C.default)),[[se,i.value]])}function y(){const t=[a(),s(Te,{duration:e.duration,onShow:L,onHide:O},g)];return e.expandSeparator===!0&&t.push(s(W,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:T.value}),s(W,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:T.value})),t}return e.group!==void 0&&M(),ee(()=>{w?.()}),()=>s("div",{class:N.value},[s("div",{class:"q-expansion-item__container relative-position"},y())])}});export{Ae as Q,Fe as a};
