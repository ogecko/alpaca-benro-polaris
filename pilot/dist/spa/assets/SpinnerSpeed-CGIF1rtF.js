import{c as A,e as me,j as st,a5 as rt,aO as Ie,i as he,h as V,Q as Z,R as be,A as Ve,a as O,at as ct,p as Oe,a2 as ut,f as dt,v as ft,d as ye,E as ne,a3 as re,F as M,aP as vt,H as D,q as De,ao as gt,w as Ce,O as X,J as w,I as $,X as pt,K as Y,N as E,P as G,M as mt,ax as ht,Z as bt,z as yt}from"./index-CEv9_qj_.js";import{Q as xt}from"./QBtnGroup-kitncNbY.js";import{Q as wt}from"./QInput-2-P9Oegg.js";import{Q as kt}from"./QMenu-DYjJ3EIM.js";import{l as fe,f as At,s as se,h as Pe,j as _t}from"./index-DaEgsOZv.js";import{b as qe,w as te,i as ve,j as St,d as $t,f as Fe,k as Mt}from"./angles-gRV9FYwb.js";import{a as Ct,g as Le,s as Pt,b as qt,f as Ft}from"./scale-MATHP_kN.js";import{_ as Be}from"./MoveButton.vue_vue_type_script_setup_true_lang-ChcL6BFD.js";import{d as Lt}from"./QItem-D8fsXvyo.js";import{u as Bt,a as It,b as Vt}from"./use-model-toggle-CUFmjS44.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ot=["top","right","bottom","left"],pe={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:t=>Ot.includes(t)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function Te(t,r){return{formClass:A(()=>`q-fab--form-${t.square===!0?"square":"rounded"}`),stacked:A(()=>t.externalLabel===!1&&["top","bottom"].includes(t.labelPosition)),labelProps:A(()=>{if(t.externalLabel===!0){const o=t.hideLabel===null?r.value===!1:t.hideLabel;return{action:"push",data:{class:[t.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${t.labelPosition}`+(o===!0?" q-fab__label--external-hidden":"")],style:t.labelStyle}}}return{action:["left","top"].includes(t.labelPosition)?"unshift":"push",data:{class:[t.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${t.labelPosition}`+(t.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:t.labelStyle}}})}}const je={start:"self-end",center:"self-center",end:"self-start"},Dt=Object.keys(je),U=me({name:"QFabAction",props:{...pe,icon:{type:String,default:""},anchor:{type:String,validator:t=>Dt.includes(t)},to:[String,Object],replace:Boolean},emits:["click"],setup(t,{slots:r,emit:o}){const f=st(Ie,()=>({showing:{value:!0},onChildClick:rt})),{formClass:C,labelProps:F}=Te(t,f.showing),v=A(()=>{const h=je[t.anchor];return C.value+(h!==void 0?` ${h}`:"")}),p=A(()=>t.disable===!0||f.showing.value!==!0);function P(h){f.onChildClick(h),o("click",h)}function T(){const h=[];return r.icon!==void 0?h.push(r.icon()):t.icon!==""&&h.push(V(be,{name:t.icon})),(t.label!==""||r.label!==void 0)&&h[F.value.action](V("div",F.value.data,r.label!==void 0?r.label():[t.label])),Ve(r.default,h)}const j=he();return Object.assign(j.proxy,{click:P}),()=>V(Z,{class:v.value,...t,noWrap:!0,stack:t.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:p.value,onClick:P},T)}});function ae(t,r=new WeakMap){if(Object(t)!==t)return t;if(r.has(t))return r.get(t);const o=t instanceof Date?new Date(t):t instanceof RegExp?new RegExp(t.source,t.flags):t instanceof Set?new Set:t instanceof Map?new Map:typeof t.constructor!="function"?Object.create(null):t.prototype!==void 0&&typeof t.prototype.constructor=="function"?t:new t.constructor;if(typeof t.constructor=="function"&&typeof t.valueOf=="function"){const f=t.valueOf();if(Object(f)!==f){const C=new t.constructor(f);return r.set(t,C),C}}return r.set(t,o),t instanceof Set?t.forEach(f=>{o.add(ae(f,r))}):t instanceof Map&&t.forEach((f,C)=>{o.set(C,ae(f,r))}),Object.assign(o,...Object.keys(t).map(f=>({[f]:ae(t[f],r)})))}const Tt=me({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(t,{slots:r,emit:o}){const{proxy:f}=he(),{$q:C}=f,F=O(null),v=O(""),p=O("");let P=!1;const T=A(()=>ct({initialValue:v.value,validate:t.validate,set:j,cancel:h,updatePosition:L},"value",()=>p.value,S=>{p.value=S}));function j(){t.validate(p.value)!==!1&&(R()===!0&&(o("save",p.value,v.value),o("update:modelValue",p.value)),z())}function h(){R()===!0&&o("cancel",p.value,v.value),z()}function L(){Oe(()=>{F.value.updatePosition()})}function R(){return ut(p.value,v.value)===!1}function z(){P=!0,F.value.hide()}function Q(){P=!1,v.value=ae(t.modelValue),p.value=ae(t.modelValue),o("beforeShow")}function W(){o("show")}function a(){P===!1&&R()===!0&&(t.autoSave===!0&&t.validate(p.value)===!0?(o("save",p.value,v.value),o("update:modelValue",p.value)):o("cancel",p.value,v.value)),o("beforeHide")}function _(){o("hide")}function K(){const S=r.default!==void 0?[].concat(r.default(T.value)):[];return t.title&&S.unshift(V("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},t.title)),t.buttons===!0&&S.push(V("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[V(Z,{flat:!0,color:t.color,label:t.labelCancel||C.lang.label.cancel,onClick:h}),V(Z,{flat:!0,color:t.color,label:t.labelSet||C.lang.label.set,onClick:j})])),S}return Object.assign(f,{set:j,cancel:h,show(S){F.value?.show(S)},hide(S){F.value?.hide(S)},updatePosition:L}),()=>{if(t.disable!==!0)return V(kt,{ref:F,class:"q-popup-edit",cover:t.cover,onBeforeShow:Q,onShow:W,onBeforeHide:a,onHide:_,onEscapeKey:h},K)}}}),jt=["up","right","down","left"],zt=["left","center","right"],Ht=me({name:"QFab",props:{...pe,...It,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{...pe.hideLabel,default:null},direction:{type:String,default:"right",validator:t=>jt.includes(t)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:t=>zt.includes(t)}},emits:Bt,setup(t,{slots:r}){const o=O(null),f=O(t.modelValue===!0),C=Lt(),{proxy:{$q:F}}=he(),{formClass:v,labelProps:p}=Te(t,f),P=A(()=>t.persistent!==!0),{hide:T,toggle:j}=Vt({showing:f,hideOnRouteChange:P}),h=A(()=>({opened:f.value})),L=A(()=>`q-fab z-fab row inline justify-center q-fab--align-${t.verticalActionsAlign} ${v.value}`+(f.value===!0?" q-fab--opened":" q-fab--closed")),R=A(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${t.direction} q-fab__actions--${f.value===!0?"opened":"closed"}`),z=A(()=>{const _={id:C.value,role:"menu"};return f.value!==!0&&(_["aria-hidden"]="true"),_}),Q=A(()=>`q-fab__icon-holder  q-fab__icon-holder--${f.value===!0?"opened":"closed"}`);function W(_,K){const S=r[_],le=`q-fab__${_} absolute-full`;return S===void 0?V(be,{class:le,name:t[K]||F.iconSet.fab[K]}):V("div",{class:le},S(h.value))}function a(){const _=[];return t.hideIcon!==!0&&_.push(V("div",{class:Q.value},[W("icon","icon"),W("active-icon","activeIcon")])),(t.label!==""||r.label!==void 0)&&_[p.value.action](V("div",p.value.data,r.label!==void 0?r.label(h.value):[t.label])),Ve(r.tooltip,_)}return ft(Ie,{showing:f,onChildClick(_){T(_),_?.qAvoidFocus!==!0&&o.value?.$el.focus()}}),()=>V("div",{class:L.value},[V(Z,{ref:o,class:v.value,...t,noWrap:!0,stack:t.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":f.value===!0?"true":"false","aria-haspopup":"true","aria-controls":C.value,onClick:j},a),V("div",{class:R.value,...z.value},dt(r.default))])}}),Et=ye({__name:"MoveFab",props:{icon:{type:String,default:"mdi-plus-circle"}},setup(t){const r=O(!1);return(o,f)=>(D(),ne(Ht,{class:"move-fab",push:"",padding:"xs",direction:"up",modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=C=>r.value=C),icon:t.icon,"text-color":r.value?"white":"dark",color:(r.value,"positive"),style:re(r.value?"opacity: 1":"opacity: 0.4")},{default:M(()=>[vt(o.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue","icon","text-color","color","style"]))}}),ge=xe(Et,[["__scopeId","data-v-e7438b71"]]),Rt={class:"overlay-container relative-position"},Qt={key:0},Nt={class:"column"},Ut={class:"column","text-primary":""},Wt=["width","height"],Kt=["width","height"],Gt={class:"column items-center"},Zt={class:"row text-positive text-h6 items-center q-gutter-xs no-wrap text-weight-light"},Yt={key:0},Xt={class:"column items-left sp-readout-value"},Jt={class:"q-pt-md"},en={class:"text-h4 text-grey-6 text-center text-no-wrap"},tn={class:"row items-center q-gutter-xs no-wrap"},nn={class:"text-h4"},ln={class:"text-h2 text-weight-bold"},on={class:"column"},an={class:"text-h5 text-grey-4"},sn={class:"text-subtitle2 text-grey-5"},rn=ye({__name:"ScaleDisplay",props:{pv:{},sp:{},lst:{},label:{},domain:{}},emits:["clickScale","clickFabAngle","clickMove"],setup(t,{emit:r}){const o=t,f=O(null),C=O(null),F=O(null),v=O(200),p=O(!1),P=O(""),T=O(),j=A(()=>o.domain==="linear_360"),h=A(()=>`${o.domain}-${v.value}-${o.pv}-${o.sp}-${o.lst}`),L=A(()=>a.value.dAngleFn(o.pv??0)),R=A(()=>a.value.dAngleFn(o.sp??0)),z=A(()=>qe(L.value,1,a.value.unit)),Q=A(()=>qe(R.value,1,a.value.unit)),W=A(()=>Q.value?(Q.value.sign??"")+Q.value.degreestr+Q.value.minutestr+Q.value.secondstr:""),a=A(()=>le[o.domain]),_=A(()=>a.value.unit),K=A(()=>["circular_360","semihi_360","semilo_360","semihi_180","semihi_24","semilo_180","circular_180","az_360","alt_90","roll_180","ra_24","dec_180","pa_360"].includes(o.domain)),S=r,le={linear_360:{width:400,height:400,cx:200,cy:200,radius:150,sAngleLow:-10,sAngleHigh:190,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]},circular_360:{width:400,height:400,cx:200,cy:200,radius:150,sAngleLow:10,sAngleHigh:340,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]},az_360:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]},alt_90:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:ve,unit:"deg",minScale:2/60,maxScale:200,warnings:[[82,200],[-100,-8]]},roll_180:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:ve,unit:"deg",minScale:2/60,maxScale:200,warnings:[[82,200],[-82,-200]]},ra_24:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:St,unit:"hr",minScale:1/60,maxScale:12,warnings:[]},dec_180:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:ve,unit:"deg",minScale:2/60,maxScale:200,warnings:[[90,200],[-90,-200]]},pa_360:{width:400,height:270,cx:200,cy:190,radius:150,sAngleLow:170,sAngleHigh:370,dAngleFn:te,unit:"deg",minScale:2/60,maxScale:200,warnings:[]}},ze={lg:"M-8,0 L18,0",md:"M-8,0 L14,0",sm:"M-8,0 L11,0"},He={lg:1.2,md:1.165,sm:1.13},Ee={lg:1,md:1,sm:.5},we=gt(it,20);De(we),Ce(h,we),Ce(a,()=>{v.value=Math.max(a.value.minScale,Math.min(a.value.maxScale,v.value))});function N(l){S("clickFabAngle",l)}function Re(l,e){l.preventDefault(),l.stopPropagation(),e=a.value.dAngleFn(e),S("clickScale",{label:o.label,angle:e,radialOffset:1})}async function Qe(){P.value=W.value,await Oe();const l=T.value?.$el?.querySelector("input");l&&l.select()}function ce(l,e){if(e.cancel(),!l)return;let n=P.value?.trim();if(!n)return;const i=/^(delta|Delta|d|D|r|R)\s*/,c=i.test(n);c&&(n=n.replace(i,"").trim());const s=$t(n,a.value.unit),u=a.value.dAngleFn(c?L.value+s:s);S("clickScale",{label:o.label,angle:u,radialOffset:1})}function Ne(l){const e=F.value;if(!e)return;const n=e.createSVGPoint();n.x=l.clientX,n.y=l.clientY;const i=n.matrixTransform(e.getScreenCTM()?.inverse()),c=Math.atan2(i.y-a.value.cy,i.x-a.value.cx),s=te(c*(180/Math.PI));if(s<a.value.sAngleLow||s>a.value.sAngleHigh)return;const u=(o.pv??0)-v.value/2,g=(o.pv??0)+v.value/2,m=fe().domain([a.value.sAngleLow,a.value.sAngleHigh]).range([u,g]),k=a.value.dAngleFn(m(s)),H=i.x-a.value.cx,q=i.y-a.value.cy,b=Math.sqrt(H*H+q*q)/a.value.radius;b<.8||b>1.25||p.value&&S("clickScale",{label:o.label,angle:k,radialOffset:b})}function Ue(l){l.preventDefault();const e=1.2,n=50,i=Math.sign(l.deltaY),c=Math.abs(l.deltaY),s=Math.pow(e,c/n);let u=v.value;u*=Math.pow(s,i),u=Math.max(a.value.minScale,Math.min(a.value.maxScale,u)),v.value=u}function We(){const l=Le(v.value);l.nextDown&&l.nextDown>=a.value.minScale&&(v.value=l.nextDown)}function Ke(){const l=Le(v.value);l.nextUp&&l.nextUp<=a.value.maxScale&&(v.value=l.nextUp)}function Ge(){v.value=a.value.maxScale}function Ze(l){S("clickMove",{label:o.label,rateScale:l.isPressed?v.value:0})}function Ye(l){S("clickMove",{label:o.label,rateScale:l.isPressed?-v.value:0})}function Xe(l,e,n,i,c,s){const u=n.toFixed(6),g=n;let m=c(i(n),_.value);["md","sm"].includes(e)&&/^[+-]?\d+[°ʰ]$/.test(m)&&(e="lg"),e==="sm"&&/^[+-]?\d+[′ᵐ]$/.test(m)&&(e="md"),e==="sm"&&/^[+-]?60[″ˢ]$/.test(m)&&(e="md",m=qt(n,_.value)),s==1&&n%5!=0&&a.value.unit=="deg"&&(e="md"),s==2&&n%10!=0&&a.value.unit=="deg"&&(e="md"),s==5&&n%30!=0&&(e="md"),s==10&&n%30!=0&&(e="md"),s==15&&n%90!=0&&(e="md"),s==30&&n%90!=0&&(e="md");const k={lg:3,md:2,sm:1},H=l.findIndex(b=>b.angle===g),x=l[H]?.level?.slice(6);if(x){if(k[e]<=k[x])return;l.splice(H,1)}l.push({key:`${o.label}-tkLabel-${e}-${u}`,angle:g,label:m,level:`tkLabel tk-${e} no-edit-cursor`,opacity:Ee[e],offset:He[e]}),l.push({key:`tkDash-${e}-${u}`,angle:g,path:ze[e],level:`tkDash tk-${e}`})}function Je(l,e,n,i=6,c=30){const s=[],{stepSize:u,dFormatFn:g,level:m}=Pt(e,i,c),k=Math.ceil(l/u)*u,H=l+e,q=Math.floor((H-k)/u);for(let x=0;x<=q&&x<c;x++){const b=+(k+x*u).toFixed(6);Xe(s,m,b,n,g,u)}return{stepSize:u,ticks:s}}function et(l,e,n,i){const c=n/i,s=Math.ceil(l/c)*c,u=s+e-l;return[{key:`tkArcS-${n}-${i}`,level:"tk-solid",beginAngle:l,endAngle:e,offset:1,opacity:.2,zorder:"low"},{key:`tkArcD-${n}-${i}`,level:"tk-dashed",beginAngle:s,endAngle:u,stepSize:n,stepDiv:i,offset:1,zorder:"low"}]}function tt(l,e,n){return a.value.warnings.map(c=>({key:`tkWrn-${c[0]}-${c[1]}-${n}`,beginAngle:c[0],endAngle:c[1],offset:1,opacity:.7,zorder:"low"}))}function ke(l,e){return(n,i)=>{const c=l(i??n??0),s=e(n??0),u=Fe(c,s);return g=>c+u*g}}function ue(l,e,n=1,i){const c=e*Math.cos(l*Math.PI/180)*n,s=e*Math.sin(l*Math.PI/180)*n;return`translate(${c}, ${s}) rotate(${i+l})`}function Ae(l,e,n,i){if(n&&i){const c=e(0+n)-e(0),s=l*(c/i)*(Math.PI/180);return`${s*.1} ${s*.9}`}else return"none"}function _e(l,e,n){return typeof l.angle!="number"?0:l.angle>=e&&l.angle<=n?l.opacity??1:0}function ie(l,e){const n=se(l);e.zorder==="high"?n.raise():e.zorder==="low"&&n.lower()}function nt(l,e){const n=se(l);e.path?n.attr("d",e.path):e.label&&n.text(e.label).attr("text-anchor","middle").attr("dominant-baseline","middle")}function Se(l,e,n){const i=l*Math.PI/180,c=e*Math.PI/180,s=n*Math.cos(i),u=n*Math.sin(i),g=n*Math.cos(c),m=n*Math.sin(c),k=te(e-l)>180?1:0;return`M${s},${u} A${n},${n} 0 ${k} 1 ${g},${m}`}function lt(l){return l.map(e=>{const{beginAngle:n,endAngle:i}=e;return typeof n=="number"&&typeof i=="number"&&i<n?{...e,beginAngle:i,endAngle:n}:e})}function J(l="mark",e,n,i,c,s,u){const g=u,[m,k]=c.domain(),[H,q]=c.range(),x=(H+q)/2,b=n.filter(B=>Mt(B.angle??0,m,k)),y=ke(i,c);e.selectAll(`.${l}`).data(b,B=>`${B.key}`).join(B=>B.append(d=>document.createElementNS("http://www.w3.org/2000/svg",d.path?"path":"text")).attr("class",d=>`${l} ${d.level}`.trim()).each(function(d){ie(this,d)}).each(function(d){nt(this,d)}).attr("opacity",0).on("mousedown",function(d,I){I.label&&(d.preventDefault(),d.stopPropagation())}).on("click",function(d,I){I.label&&typeof I.angle=="number"&&Re(d,I.angle)}).transition(g).attr("opacity",d=>_e(d,m,k)).attrTween("transform",d=>I=>{const ee=y(d.angle,d.oldAngle)(I),oe=d.label?Math.sin(x*Math.PI/180)>0?-90:90:0;return ue(ee,s,d.offset??1,oe)}),B=>B.transition(g).attr("opacity",d=>_e(d,m,k)).each(function(d){ie(this,d)}).attrTween("transform",d=>I=>{const ee=y(d.angle,d.oldAngle)(I),oe=d.label?Math.sin(x*Math.PI/180)>0?-90:90:0;return ue(ee,s,d.offset??1,oe)}),B=>B.transition(g).attr("opacity",0).attrTween("transform",d=>I=>{const ee=y(d.angle,d.oldAngle)(I),oe=d.label?Math.sin(ee*Math.PI/180)>0?-90:90:0;return ue(ee,s,d.offset??1,oe)}).remove())}function de(l="arc",e,n,i,c,s,u){const g=u,[m,k]=c.domain(),q=lt(n).filter(b=>typeof b.beginAngle!="number"||typeof b.endAngle!="number"?!1:b.beginAngle>=m&&b.endAngle<=k?!0:b.beginAngle>k||b.endAngle<m?!1:(b.beginAngle<m&&(b.beginAngle=m),b.endAngle>k&&(b.endAngle=k),!0)),x=ke(i,c);e.selectAll(`.${l}`).data(q,b=>`${b.key}`).join(b=>b.append("path").attr("class",y=>`${l} ${y.level}`.trim()).each(function(y){ie(this,y)}).style("stroke-dasharray",y=>Ae(s,c,y.stepSize,y.stepDiv)).attr("opacity",0).transition(g).attr("opacity",y=>y.opacity??1).attrTween("d",y=>B=>{const d=x(y.beginAngle??0)(B),I=x(y.endAngle??0)(B);return Se(d,I,s*(y.offset??1))}),b=>b.transition(g).each(function(y){ie(this,y)}).attr("opacity",y=>y.opacity??1).style("stroke-dasharray",y=>Ae(s,c,y.stepSize,y.stepDiv)).attrTween("d",y=>B=>{const d=x(y.beginAngle??0)(B),I=x(y.endAngle??0)(B);return Se(d,I,s*(y.offset??1))}),b=>b.transition(g).attr("opacity",0).remove())}function ot(){if(!f.value)return;const l=fe().domain([o.pv??0-v.value/2,o.pv??0+v.value/2]).range([0,a.value.width-40]),e=At(l).ticks(10);se(f.value).transition().duration(200).ease(Pe).call(e)}let $e,Me;function at(){if(!C.value)return;const l=(o.pv??0)-v.value/2,e=(o.pv??0)+v.value/2,{stepSize:n,ticks:i}=Je(l,v.value,a.value.dAngleFn),c=et(l,e,n,5),s=tt(l,e,n),u=a.value.radius,g=fe().domain([l,e]).range([a.value.sAngleLow,a.value.sAngleHigh]),m=$e??g;$e=g;const k=(o.pv??0)+Fe(o.pv??0,o.sp??0),H=Me??k;Me=k;const q=se(C.value).attr("transform",`translate(${a.value.cx},${a.value.cy})`),x=_t().duration(200).ease(Pe);de("scaleArcs",q,c,m,g,u,x),de("warningArcs",q,s,m,g,u,x),de("tkArcPVtoSP",q,[{beginAngle:o.pv,endAngle:k,offset:1,opacity:.9,zorder:"low"}],m,g,u,x),J("tkMarks",q,i,m,g,u,x),J("pvMark",q,[{key:"pvMark",angle:o.pv,path:"M-8,0 L-30,15 L-30,-15 Z",offset:1,zorder:"high"}],g,g,u,x),J("spMark",q,[{key:"spMark",angle:k,oldAngle:H,path:"M-8,0 L-30,15 L-30,-15 Z",zorder:"high"}],m,g,u,x),J("spLine",q,[{key:"spLine",angle:k,oldAngle:H,path:"M-60,0 L-15,0",zorder:"high"}],m,g,u,x),o.domain=="ra_24"&&o.lst?J("lstMark",q,[{key:"1",angle:o.lst,path:"M-8,0 L18,0",offset:1,zorder:"high",level:"dash"},{key:"2",angle:o.lst,label:"LST",offset:1.2,zorder:"high",level:"label"}],m,g,u,x):J("lstMark",q,[],m,g,u,x)}function it(){j.value?ot():K.value&&at()}return(l,e)=>(D(),X("div",Rt,[w("div",{class:"interaction-area",style:re(`width:${a.value.width}px; height: ${a.value.height}px`),onMouseenter:e[13]||(e[13]=n=>p.value=!0),onMouseleave:e[14]||(e[14]=n=>p.value=!1),onPointerdown:e[15]||(e[15]=n=>p.value=!0)},[w("div",{class:"outer-content",style:re(`width:${a.value.width}px; height: ${a.value.height}px`)},[$(pt,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:M(()=>[p.value?(D(),X("div",Qt,[e[16]||(e[16]=w("div",{class:"row absolute-top-left q-pl-xl q-pb-sm"},null,-1)),$(xt,{rounded:"",class:"row absolute-top-right q-pr-lg"},{default:M(()=>[w("div",Nt,[$(Z,{onClick:We,dense:"",flat:"",color:"secondary",icon:"mdi-magnify-plus-outline"})]),w("div",Ut,[$(Z,{onClick:Ge,dense:"",flat:"",color:"secondary"},{default:M(()=>[E(G(mt(Ct)(v.value,_.value)),1)]),_:1}),$(Z,{onClick:Ke,dense:"",flat:"",color:"secondary",icon:"mdi-magnify-minus-outline"})])]),_:1}),e[17]||(e[17]=w("div",{class:"row absolute-bottom-left q-pa-sm"},null,-1)),e[18]||(e[18]=w("div",{class:"row absolute-bottom-right q-pa-sm"},null,-1))])):Y("",!0)]),_:1})],4),(D(),X("svg",{class:"background-svg",onPointerdown:Ne,onWheel:Ue,ref_key:"svgElement",ref:F,width:a.value.width,height:a.value.height},[w("rect",{width:a.value.width,height:a.value.height,fill:"none","pointer-events":"all"},null,8,Kt),j.value?(D(),X("g",{key:0,ref_key:"linearGroup",ref:f},null,512)):K.value?(D(),X("g",{key:1,ref_key:"circularGroup",ref:C},null,512)):Y("",!0)],40,Wt)),w("div",{class:"center-content no-edit-cursor",style:re(`left:${100*a.value.cx/a.value.width}%; top: ${100*a.value.cy/a.value.height}%`)},[w("div",Gt,[w("div",{class:ht({row:!0,"order-last":a.value.cy>a.value.height/2})},[w("div",Zt,[p.value?(D(),X("div",Yt,[o.label=="Roll"?(D(),ne(ge,{key:0,icon:"mdi-format-align-middle"},{default:M(()=>[$(U,{color:"positive",onClick:e[0]||(e[0]=n=>N({roll:0}))},{default:M(()=>e[19]||(e[19]=[E("0°",-1)])),_:1,__:[19]}),$(U,{color:"positive",onClick:e[1]||(e[1]=n=>N({roll:-70}))},{default:M(()=>e[20]||(e[20]=[E("-70°",-1)])),_:1,__:[20]}),$(U,{color:"positive",onClick:e[2]||(e[2]=n=>N({roll:70}))},{default:M(()=>e[21]||(e[21]=[E("+70°",-1)])),_:1,__:[21]})]),_:1})):Y("",!0),o.label=="Altitude"?(D(),ne(ge,{key:1,icon:"mdi-angle-acute"},{default:M(()=>[$(U,{color:"positive",onClick:e[3]||(e[3]=n=>N({alt:0}))},{default:M(()=>e[22]||(e[22]=[E("0°",-1)])),_:1,__:[22]}),$(U,{color:"positive",onClick:e[4]||(e[4]=n=>N({alt:30}))},{default:M(()=>e[23]||(e[23]=[E("30°",-1)])),_:1,__:[23]}),$(U,{color:"positive",onClick:e[5]||(e[5]=n=>N({alt:45}))},{default:M(()=>e[24]||(e[24]=[E("45°",-1)])),_:1,__:[24]}),$(U,{color:"positive",onClick:e[6]||(e[6]=n=>N({alt:60}))},{default:M(()=>e[25]||(e[25]=[E("60°",-1)])),_:1,__:[25]})]),_:1})):Y("",!0),o.label=="Azimuth"?(D(),ne(ge,{key:2,icon:"mdi-compass-rose"},{default:M(()=>[$(U,{color:"positive",onClick:e[7]||(e[7]=n=>N({az:180}))},{default:M(()=>e[26]||(e[26]=[E("S",-1)])),_:1,__:[26]}),$(U,{color:"positive",onClick:e[8]||(e[8]=n=>N({az:90}))},{default:M(()=>e[27]||(e[27]=[E("E",-1)])),_:1,__:[27]}),$(U,{color:"positive",onClick:e[9]||(e[9]=n=>N({az:270}))},{default:M(()=>e[28]||(e[28]=[E("W",-1)])),_:1,__:[28]}),$(U,{color:"positive",onClick:e[10]||(e[10]=n=>N({az:0}))},{default:M(()=>e[29]||(e[29]=[E("N",-1)])),_:1,__:[29]})]),_:1})):Y("",!0)])):Y("",!0),p.value?(D(),ne(Be,{key:1,activeColor:"positive",icon:"mdi-minus-circle",onPush:Ye})):Y("",!0),w("div",Xt,[e[30]||(e[30]=w("div",{class:"absolute text-positive text-caption"},"Setpoint",-1)),w("div",Jt,G(W.value),1),$(Tt,{modelValue:P.value,"onUpdate:modelValue":e[12]||(e[12]=n=>P.value=n),color:"positive",onBeforeShow:Qe},{default:M(n=>[$(wt,{label:o.label+" SP",color:"positive",ref_key:"spxInputRef",ref:T,modelValue:P.value,"onUpdate:modelValue":e[11]||(e[11]=i=>P.value=i),autofocus:"",onKeyup:bt(i=>ce(!0,n),["enter"])},{prepend:M(()=>[$(be,{name:"mdi-arrow-up-bold",color:"positive"})]),after:M(()=>[$(Z,{flat:"",dense:"",round:"",color:"negative",icon:"cancel",onClick:i=>ce(!1,n)},null,8,["onClick"]),$(Z,{flat:"",dense:"",round:"",color:"positive",icon:"check_circle",onClick:i=>ce(!0,n)},null,8,["onClick"])]),_:2},1032,["label","modelValue","onKeyup"])]),_:1},8,["modelValue"])]),p.value?(D(),ne(Be,{key:2,activeColor:"positive",icon:"mdi-plus-circle",onPush:Ze})):Y("",!0)])],2),w("div",en,G(o.label),1),w("div",tn,[w("div",nn,G(z.value.sign),1),w("div",ln,G(z.value.degreestr),1),w("div",on,[w("div",an,G(z.value.minutestr),1),w("div",sn,G(z.value.secondstr),1)])])])],4)],36)]))}}),_n=xe(rn,[["__scopeId","data-v-412c4cc3"]]),cn={class:"row items-center no-wrap q-pb-md"},un={x:"50",y:"50","text-anchor":"middle","dominant-baseline":"middle",fill:"currentColor","font-size":"35px"},dn={x:"50",y:"130","text-anchor":"middle","dominant-baseline":"middle",fill:"currentColor","font-size":"35px"},fn=ye({__name:"SpinnerSpeed",props:{speed:{},position:{},label:{}},setup(t){const r=t,o=O(null),f=O(null),C=A(()=>{const h=r.speed??0;return v(h)}),F=A(()=>r.position!=null?Ft(r.position,"deg",1):"");function v(h){const L=Math.abs(h),R=.002,z=9,Q=.2,W=5;if(L<R)return 0;const a=Math.log10(L),_=Math.log10(R),K=Math.log10(z),S=(a-_)/(K-_);return 360/(W-S*(W-Q))}let p=0,P=performance.now(),T=null;function j(){const h=performance.now(),L=(h-P)/1e3;P=h;const z=((r.speed??0)<=0?1:-1)*C.value;p=(p+L*z)%360,o.value&&o.value.setAttribute("transform",`rotate(${p.toFixed(2)} 50 50)`),T=requestAnimationFrame(j)}return De(()=>{P=performance.now(),T=requestAnimationFrame(j)}),yt(()=>{T!==null&&cancelAnimationFrame(T)}),(h,L)=>(D(),X("div",cn,[(D(),X("svg",{ref_key:"svgRef",ref:f,class:"q-spinner text-primary",width:"50px",height:"80px",viewBox:"0 0 100 160",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},[L[0]||(L[0]=w("circle",{cx:"50",cy:"50",r:"44",fill:"none","stroke-width":"4","stroke-opacity":".5",stroke:"currentColor"},null,-1)),w("text",un,G(r.label),1),w("circle",{ref_key:"orbitingCircle",ref:o,cx:"8",cy:"54",r:"6",fill:"currentColor","stroke-width":"3",stroke:"currentColor"},null,512),w("text",dn,G(F.value),1)],512))]))}}),Sn=xe(fn,[["__scopeId","data-v-7de0ba2d"]]);export{_n as S,Sn as a};
